# Sonnet GitHub Issues Creator - Phase 1 v6.5.1

**For:** Claude Sonnet (or any LLM with GitHub API access)  
**Task:** Create GitHub issues for Phase 1 Resume Analyzer improvements  
**Date:** January 7, 2026

---

## üéØ Your Mission

Create 4 GitHub issues in your repository with complete details, including fixes already applied.

---

## üìã ISSUE #1: Verb Distribution Imbalance Detection

**GitHub Issue Title:**  
`[MODERATE] Flag verb categories with < 5% representation as TWEAK`

**GitHub Issue Body:**
```markdown
## Problem
The action verb distribution analyzer should identify when any verb category (Built, Lead, Managed, Improved, Collaborate) represents less than 5% of total bullets. This indicates imbalanced distribution and should be flagged as a TWEAK in the Prioritized Repairs Summary.

## Current Behavior
A resume with 1 "Lead" bullet out of 20 total bullets (5%) is not flagged, even though the distribution is highly imbalanced.

## Expected Behavior
When any verb category falls below 5% threshold, Claude should:
1. Identify the underrepresented category
2. Add entry to `repairsNeeded` array with severity: "tweak"
3. Provide actionable suggestion (e.g., "Consider adding more 'Lead' bullets to balance distribution")

## IMPLEMENTATION COMPLETED

**Files Changed:**
- `src/App.jsx` - Updated Claude API prompt (line ~80)

**Changes Made:**
```javascript
// Updated Claude prompt to include:
"- Verb distribution: any category with fewer than 5% of total bullets"
```

**How to Verify:**
1. Test with resume containing 1 "Lead" bullet out of 20+ total
2. Check that repairsNeeded includes TWEAK entry for underrepresented "Lead"
3. Verify Prioritized Repairs Summary displays the flag

## Files to Update in Instructions
- `<verb_diversity_rule>` (Modify) - around line ~3700
- `<verb_distribution_threshold_rule>` (Add) - New section

```xml
<verb_distribution_threshold_rule>
  <priority>HIGH</priority>
  <instruction>
    Any action verb category representing less than 5% of total bullets should be flagged as a TWEAK in Prioritized Repairs Summary.
  </instruction>
  
  <calculation>
    Percentage = (bullets_in_category / total_bullets) * 100
    IF percentage < 5% THEN flag as TWEAK
  </calculation>
  
  <example>
    Resume with 20 total bullets:
    - Built: 8 (40%)
    - Lead: 1 (5%) ‚Üê Borderline, flag if < 5%
    - Managed: 6 (30%)
    - Improved: 4 (20%)
    - Collaborate: 1 (5%) ‚Üê Flag as TWEAK
    
    Suggestion: "Consider adding more 'Collaborate' verbs to balance distribution"
  </example>
</verb_distribution_threshold_rule>
```

## Status
‚è≥ PENDING VALIDATION

## Labels
`resume-analyzer`, `enhancements`, `analysis`, `moderate-priority`

## Milestone
`Phase 1 - v6.5.1`
```

---

## üìã ISSUE #2: Expand Position Header Format

**GitHub Issue Title:**  
`[LOW] Position header should display full hiring manager perspective format`

**GitHub Issue Body:**
```markdown
## Problem
The position header shows a compact format. According to hiring_manager_perspective_rules in instructions, it should display the complete hiring manager perspective analysis format with all metadata fields.

## Current Behavior
```
Position 1: Senior Technical Writer
Company ‚Ä¢ Dates
Inferred: Role (Seniority)
```

## Expected Behavior
```
Position 1: "For this position, I think your job title might have been Senior Technical Writer"

Inferred Title: Senior Technical Writer
Company: TechCorp Inc
Dates: Jan 2023 - Present
Seniority Level: Senior
```

## IMPLEMENTATION COMPLETED

**Files Changed:**
- `src/App.jsx` - Updated position header button content (line ~455)

**Changes Made:**
```javascript
// Updated position header JSX to show:
<h3 className="text-lg font-semibold text-white mb-2">
  Position {position.id}: "For this position, I think your job title might have been {position.inferredTitle}"
</h3>
<div className="text-sm text-slate-300 space-y-1">
  <p><span className="font-semibold">Inferred Title:</span> {position.inferredTitle}</p>
  <p><span className="font-semibold">Company:</span> {position.company}</p>
  <p><span className="font-semibold">Dates:</span> {position.dates}</p>
  <p><span className="font-semibold">Seniority Level:</span> {position.seniority}</p>
</div>
```

**How to Verify:**
1. Analyze any resume
2. Expand a position
3. Verify all 4 metadata fields display on separate lines
4. Confirm quoted statement is present

## Files to Update in Instructions
- `<hiring_manager_perspective_rules>` (Verify/Modify) - Instructions already define this format correctly (line ~2132)

## Status
‚è≥ PENDING VALIDATION

## Labels
`resume-analyzer`, `enhancements`, `ui`, `low-priority`, `format`

## Milestone
`Phase 1 - Polish`
```

---

## üìã ISSUE #3: Populate Prioritized Repairs Summary

**GitHub Issue Title:**  
`[LOW] Claude should generate detailed repairsNeeded array`

**GitHub Issue Body:**
```markdown
## Problem
The Prioritized Repairs Summary section displays "No repairs needed - excellent work!" because the `repairsNeeded` array is empty. Claude should analyze each bullet and generate specific repair suggestions.

## Current Behavior
- `repairsNeeded: []` (empty array)
- Prioritized Repairs Summary shows "No repairs needed"
- Users don't see specific issues identified during analysis

## Expected Behavior
Claude should analyze each bullet for:
- Missing metrics (bullets without quantified impact)
- Character count violations (< 100 or > 210 chars)
- Weak action verbs (Responsible, Helped, Worked on, etc.)
- Verb distribution imbalance (see Issue #1)
- Verb category repetition within same position

And populate `repairsNeeded` with detailed entries:
```json
{
  "severity": "tweak",
  "position": "Position 1",
  "bulletNumber": 2,
  "issue": "Bullet lacks quantified metrics",
  "suggestion": "Add impact metric like '% reduction', '$X saved', or 'X users affected'"
}
```

## IMPLEMENTATION COMPLETED

**Files Changed:**
- `src/App.jsx` - Updated Claude API prompt (line ~80)

**Changes Made:**
```javascript
// Updated Claude prompt to include:
"For repairsNeeded, identify issues with each bullet:
- Metrics: bullets without quantified impact (%, $, numbers)
- Character count: bullets under 100 or over 210 chars
- Verb distribution: any category with fewer than 5% of total bullets
- Weak verbs: Responsible, Helped, Worked on, Participated"

// Claude now generates repairsNeeded array with entries containing:
// - severity: "blocker" | "risk" | "tweak"
// - position: "Position N"
// - bulletNumber: number
// - issue: description
// - suggestion: actionable fix
```

**How to Verify:**
1. Analyze resume with missing metrics or formatting issues
2. Check that repairsNeeded contains entries for identified issues
3. Verify Prioritized Repairs Summary displays all repairs by severity
4. Confirm each repair has all required fields

## Files to Update in Instructions
- `<repairs_needed_generation_rules>` (Add) - New section near Phase 1 API prompt guidelines

```xml
<repairs_needed_generation_rules>
  <priority>HIGH</priority>
  
  <purpose>
    The repairsNeeded array contains specific, actionable repair suggestions identified 
    during resume analysis. These are surfaced in the Prioritized Repairs Summary section.
  </purpose>
  
  <severity_definitions>
    <blocker>Dealbreaker issues that risk auto-rejection by ATS or hiring manager</blocker>
    <risk>Significant issues that meaningfully lower resume score</risk>
    <tweak>Minor refinements for professional polish</tweak>
  </severity_definitions>
  
  <what_to_flag>
    1. Missing Metrics: Bullets without quantified impact (%, $, numbers, time)
    2. Character Count: Bullets under 100 or over 210 characters
    3. Weak Verbs: Responsible, Helped, Worked on, Participated in
    4. Verb Distribution: Any category < 5% of total bullets
    5. Verb Repetition: Same category used twice in one position
    6. No Impact: Bullets lacking clear business outcome
  </what_to_flag>
  
  <array_structure>
    {
      "severity": "risk|tweak|blocker",
      "position": "Position 1: Job Title",
      "bulletNumber": 1,
      "issue": "Clear description of what's wrong",
      "suggestion": "Specific, actionable fix with example"
    }
  </array_structure>
</repairs_needed_generation_rules>
```

## Status
‚è≥ PENDING VALIDATION

## Labels
`resume-analyzer`, `enhancements`, `low-priority`, `analysis`

## Milestone
`Phase 1 - v6.5.1`
```

---

## üìã ISSUE #4: JSON Parsing Error with Large Resumes

**GitHub Issue Title:**  
`[BUG] JSON parsing fails with longer resumes`

**GitHub Issue Body:**
```markdown
## Problem
When users paste longer or more complex resumes (5+ positions), the analyzer crashes with a JSON parsing error instead of providing helpful feedback.

## Current Behavior
```
Error: Expected ',' or ']' after array element in JSON at position 14051 (line 338 column 6)
```

This error occurs mid-analysis, leaving users confused.

## Root Cause
- Claude API max_tokens was set to 4000
- Longer resumes require more tokens to fully analyze
- Claude generates incomplete JSON when token limit is hit

## Expected Behavior
- Longer resumes should process successfully
- If resume is too long, display user-friendly error message
- Suggest user simplify resume or break into sections

## IMPLEMENTATION COMPLETED

**Files Changed:**
- `src/App.jsx` - Increased max_tokens from 4000 to 5000 (line ~82)
- `src/App.jsx` - Added error handling for JSON parsing errors (line ~142)

**Changes Made:**

1. Token Increase:
```javascript
max_tokens: 5000,  // Increased from 4000
```

2. Error Handling:
```javascript
catch (err) {
  // Check if it's a JSON parsing error (likely too large resume)
  if (err.message.includes('JSON') || err.message.includes('position')) {
    setError('Your resume is too large or complex for the analyzer to process. Try removing some older positions or simplifying the formatting, then try again.');
  } else {
    setError(`Error: ${err.message}`);
  }
}
```

**How to Verify:**
1. Test with 5-10 position resume
2. Verify it processes successfully
3. Test with very long resume (10+ positions)
4. Confirm friendly error message appears instead of JSON error

## Testing Results
‚úÖ Resumes with 3-5 positions: Pass
‚úÖ Longer resumes: Pass with 5000 max_tokens
‚úÖ Oversized resumes: Display friendly error message

## Files to Update in Instructions
- Internal behavior (No instruction change required)

## Status
‚è≥ PENDING VALIDATION

## Labels
`resume-analyzer`, `bug`, `error-handling`

## Milestone
`Phase 1 - v6.5.1`
```

---

## üöÄ How to Use This File

1. Copy this entire document
2. Paste into Claude Sonnet
3. Add your GitHub details:
   ```
   My GitHub repository: [owner]/[repo]
   GitHub access token: [your token]
   ```
4. Ask: **"Create these 4 GitHub issues in my repository"**

---

## ‚úÖ Expected Output

Sonnet will:
- ‚úÖ Create all 4 GitHub issues
- ‚úÖ Add correct labels and milestone
- ‚úÖ Mark as "FIXED" (already completed in v6.5.1)
- ‚úÖ Provide links to confirm creation
- ‚úÖ List instruction updates ready to apply

---

**Document Version:** 2.0 (Updated with fixes)  
**Created:** January 7, 2026  
**Ready for Sonnet:** Yes