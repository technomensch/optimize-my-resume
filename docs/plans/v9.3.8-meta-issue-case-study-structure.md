# Plan: Formalize Meta-Issue Case Study Structure

**Created:** 2026-02-02
**Type:** Knowledge System Enhancement
**Scope:** Create industry-aligned issue tracking structure for complex, multi-attempt issues (generalized pattern)

---

## Context

A **meta-issue** is a complex problem that:
- Spans multiple version iterations (not a single fix)
- Involves multiple solution attempts (some successful, some failed)
- Evolves understanding over time (root cause shifts)
- Links to multiple related issues/PRs
- Requires ongoing investigation and remediation

**Example: v9.3.x Enforcement Saga**
- The enforcement system challenge spans v9.3.4 through v9.3.7.1+
- Involves multiple related issues (85, 97, etc.)
- Has had 9+ solution attempts with varying outcomes
- Root cause understanding evolved from "better docs" ‚Üí "external validation required"

**Current State:**
- Case study exists as single file: `docs/issues/ENFORCEMENT_SYSTEM_FAILURE_CASE_STUDY.md`
- No structured tracking of individual solution attempts
- No clear traceability between plans and outcomes
- No reusable pattern for future complex issues

**Industry Best Practices Research:**
- Post-mortem structure: Blameless, timeline-based, root cause analysis
- Issue tracking: Multiple solution attempts, status progression, remediation tracking
- Engineering case studies: Investigation process, lessons learned, actionable insights

---

## User Requirements

### General Meta-Issue System

1. **Reusable Structure**
   - Pattern works for ANY complex issue, not just enforcement
   - Can be instantiated for new meta-issues as they arise
   - Consistent format across all meta-issues

2. **Standard Components per Meta-Issue:**
   - `description.md` - Living document updated from knowledge graph
   - `implementation-log.md` - References plan files with actual version names
   - `solution-approach` files - One per attempt
   - `attempt-results` files - Outcomes and next steps
   - `test-cases.md` - Validation scenarios

3. **Plan File References:**
   - Use actual version naming scheme (e.g., v9.3.x, v2.1.x)
   - Handle plan files in `docs/plans/` or `docs/plans/archive/`
   - Create complete traceability chain: Issue ‚Üí Plan ‚Üí Attempt ‚Üí Results ‚Üí Knowledge Graph

4. **Simplicity:** Leverage existing structure, don't create complex new systems

5. **Scalability:** Support multiple concurrent meta-issues without confusion

---

## Recommended Approach

### When to Create a Meta-Issue

**Create a new meta-issue when:**
1. **Multiple Attempts Required:** Problem requires 3+ distinct solution attempts
2. **Evolving Understanding:** Root cause shifts as attempts reveal new insights
3. **Version Span:** Issue spans multiple version iterations (e.g., v9.3.4 ‚Üí v9.3.7.1+)
4. **Related Issues:** Multiple GitHub/tracking issues all relate to same core problem
5. **Long Duration:** Investigation/remediation takes weeks/months with ongoing work

**Examples:**
- ‚úÖ v9.3.x Enforcement Saga (9+ attempts, 4+ versions, evolving root cause)
- ‚úÖ Performance Degradation Investigation (multiple profiling attempts, various optimizations)
- ‚úÖ Data Migration Complexity (multiple strategies, rollback attempts)
- ‚ùå Single bug fix (one issue, one solution)
- ‚ùå Feature implementation (even if multi-phase, not iterative problem-solving)

**Naming Convention:**
- Format: `[version-range]-[problem-domain]-saga/` OR `[problem-domain]-investigation/`
- Examples:
  - `v9.3.x-enforcement-saga/`
  - `v2.x-performance-investigation/`
  - `data-migration-complexity/`
  - `auth-system-redesign/`

### Directory Structure (General Pattern)

```
docs/issues/
‚îî‚îÄ‚îÄ [meta-issue-name]/                         # Descriptive name (not single issue #)
    ‚îÇ
    ‚îú‚îÄ‚îÄ README.md                              # Navigation + current status
    ‚îú‚îÄ‚îÄ description.md                         # Living document (updated from knowledge graph)
    ‚îú‚îÄ‚îÄ implementation-log.md                  # ALL attempts with plan references
    ‚îú‚îÄ‚îÄ test-cases.md                          # Validation scenarios
    ‚îÇ
    ‚îú‚îÄ‚îÄ related-issues/                        # Links to GitHub issues/PRs
    ‚îÇ   ‚îú‚îÄ‚îÄ issue-NNN-description.md           # One file per related issue
    ‚îÇ   ‚îî‚îÄ‚îÄ pr-MMM-description.md              # One file per related PR
    ‚îÇ
    ‚îú‚îÄ‚îÄ attempts/                              # Chronological solution attempts
    ‚îÇ   ‚îú‚îÄ‚îÄ 001-[attempt-name]-[version]/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ solution-approach.md
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attempt-results.md
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plan-reference.md              # ‚Üí docs/plans/[version]-*.md
    ‚îÇ   ‚îÇ
    ‚îÇ   ‚îú‚îÄ‚îÄ 002-[next-attempt]-[version]/
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ
    ‚îî‚îÄ‚îÄ analysis/
        ‚îú‚îÄ‚îÄ root-cause-evolution.md            # How understanding evolved
        ‚îú‚îÄ‚îÄ timeline-visualization.md          # Major events and pivots
        ‚îî‚îÄ‚îÄ lessons-learned.md                 # Cross-attempt patterns
```

### Example: v9.3.x Enforcement Saga (Current)

```
docs/issues/
‚îî‚îÄ‚îÄ v9.3.x-enforcement-saga/                  # Meta-issue (not single issue number)
    ‚îÇ
    ‚îú‚îÄ‚îÄ README.md                              # Navigation + current status
    ‚îú‚îÄ‚îÄ description.md                         # Living document (updated from knowledge graph)
    ‚îú‚îÄ‚îÄ implementation-log.md                  # ALL v9.3.x attempts with plan references
    ‚îú‚îÄ‚îÄ test-cases.md                          # Validation scenarios
    ‚îÇ
    ‚îú‚îÄ‚îÄ related-issues/                        # Issue tracking
    ‚îÇ   ‚îú‚îÄ‚îÄ issue-85-initial-hardening.md      # Link to issue-85
    ‚îÇ   ‚îî‚îÄ‚îÄ issue-97-production-failure.md     # Link to issue-97
    ‚îÇ
    ‚îú‚îÄ‚îÄ attempts/                              # Chronological solution attempts
    ‚îÇ   ‚îú‚îÄ‚îÄ 001-unified-validation-v9.3.5.2/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ solution-approach.md
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attempt-results.md
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plan-reference.md              # ‚Üí docs/plans/v9.3.5.2-*.md
    ‚îÇ   ‚îÇ
    ‚îÇ   ‚îú‚îÄ‚îÄ 002-metric-validation-v9.3.5.3/
    ‚îÇ   ‚îú‚îÄ‚îÄ 003-guardrail-registry-v9.3.5.6/
    ‚îÇ   ‚îú‚îÄ‚îÄ 004-layered-defense-v9.3.6/        # Designed but never implemented
    ‚îÇ   ‚îú‚îÄ‚îÄ 005-four-layer-strategy-v9.3.7/    # Major shift, Jan 29 failure
    ‚îÇ   ‚îú‚îÄ‚îÄ 006-verification-v9.3.7.1/         # Post-failure response
    ‚îÇ   ‚îú‚îÄ‚îÄ 007-python-validation/             # IDE-only solution
    ‚îÇ   ‚îú‚îÄ‚îÄ 008-n8n-external-orchestration/    # Current (v10 in progress)
    ‚îÇ   ‚îî‚îÄ‚îÄ 009-multi-turn-human-loop/         # Proposed v9.3.8
    ‚îÇ
    ‚îî‚îÄ‚îÄ analysis/
        ‚îú‚îÄ‚îÄ root-cause-evolution.md            # How understanding evolved
        ‚îú‚îÄ‚îÄ timeline-visualization.md          # Major events and pivots
        ‚îî‚îÄ‚îÄ lessons-learned.md                 # Cross-attempt patterns
```

### Migration Plan

**Phase 1: Create General Template System**
1. Create `docs/issues/templates/` directory
2. Create 7 core templates:
   - `meta-issue-README-template.md`
   - `meta-issue-description-template.md`
   - `meta-issue-implementation-log-template.md`
   - `meta-issue-test-cases-template.md`
   - `solution-approach-template.md`
   - `attempt-results-template.md`
   - `plan-reference-template.md`

**Phase 2: Create v9.3.x Enforcement Saga Structure**
1. Create `docs/issues/v9.3.x-enforcement-saga/` directory
2. Create standard files from templates:
   - Copy and customize `README.md`
   - Copy and customize `description.md`
   - Copy and customize `implementation-log.md`
   - Copy and customize `test-cases.md`
3. Create `attempts/`, `related-issues/`, and `analysis/` subdirectories

**Phase 3: Migrate Existing Case Study**
1. Extract content from `ENFORCEMENT_SYSTEM_FAILURE_CASE_STUDY.md`:
   - Timeline ‚Üí `implementation-log.md`
   - "What Has Worked/Hasn't" ‚Üí Individual `attempt-results.md` files
   - Root cause analysis ‚Üí `analysis/root-cause-evolution.md`
   - Recommendations ‚Üí Future `solution-approach.md` files
2. Keep original file as reference until migration complete

**Phase 4: Create Historical Attempt Folders**
For each v9.3.x version (v9.3.4, v9.3.5.1-5.6, v9.3.6, v9.3.7, v9.3.7.1):
1. Create `attempts/NNN-name-vX.Y.Z/` directory (001-009+)
2. Add `plan-reference.md` linking to `docs/plans/vX.Y.Z-*.md`
3. Add `solution-approach.md` describing what was attempted
4. Add `attempt-results.md` with outcome and next steps

**Phase 5: Establish Knowledge Graph Integration**
1. Update patterns.md entries with evidence links to v9.3.x attempts
2. Update gotchas.md entries with meta-issue references
3. Add meta-issue section to relevant lessons-learned
4. Verify bidirectional links work in both directions

---

## File Templates

### solution-approach.md
```markdown
# Solution Approach: [Name]

**Version:** vX.Y.Z
**Date:** YYYY-MM-DD
**Hypothesis:** What we think will solve the enforcement problem
**Rationale:** Why this approach should work

## Implementation Plan
1. Step 1
2. Step 2

## Success Criteria
- How we'll know it works
- Expected compliance rate improvement

## Known Risks
- What could go wrong
- Platform limitations
```

### attempt-results.md
```markdown
# Attempt Results: [Name]

**Status:** ‚úÖ Success | ‚ö†Ô∏è Partial | ‚úó Failed | üîÑ In Progress
**Date Completed:** YYYY-MM-DD
**Outcome:** What actually happened

## Evidence
- Links to artifacts, logs, screenshots
- Code commits
- Test results

## Key Learnings
1. What we discovered
2. Why it succeeded/failed
3. Patterns observed

## Impact on Root Cause Understanding
- How this changed our understanding
- New insights about enforcement problem

## Next Steps
- **If success:** How to maintain/scale
- **If failed:** What to try next (link to next attempt)
- **If partial:** What works, what doesn't

## Knowledge Graph Updates
- Patterns documented
- Gotchas added
- Lessons learned created
```

### plan-reference.md
```markdown
# Plan Reference: vX.Y.Z

**Plan Version:** vX.Y.Z
**Plan File:** `docs/plans/vX.Y.Z-description.md`
**Archive Location:** `docs/plans/archive/v9.x/vX.Y.x/` (if moved)
**Created:** YYYY-MM-DD
**Status:** ‚úÖ Executed | ‚ö†Ô∏è Partial | ‚úó Abandoned

## Plan Summary
[Brief description of what this plan intended to accomplish]

## Scope
- Items planned
- Files to modify
- Success criteria

## Related Plans
- **Parent:** vX.Y.Z (if applicable)
- **Dependencies:** Other plans this relied on
- **Next:** vX.Y.Z (follow-up work)

## Links
- [Implementation Log](../../implementation-log.md)
- [Solution Approach](./solution-approach.md)
- [Attempt Results](./attempt-results.md)
```

### implementation-log.md
```markdown
# Implementation Log: v9.3.x Enforcement Saga

**Meta-Issue:** Guardrail Enforcement System Evolution
**Root Cause:** LLM self-enforcement fundamentally impossible
**Versions:** v9.3.4 through v9.3.7.1+ (ongoing)
**Related Issues:** #85, #97, others

---

## Evolution of Understanding

| Phase | Version Range | Belief | Reality |
|-------|---------------|--------|---------|
| Initial | v9.3.4-v9.3.5 | "Better docs will fix it" | Documentation ignored |
| Hardening | v9.3.5.1-5.6 | "Structural constraints work" | Structure bypassed |
| Architectural | v9.3.6-v9.3.7 | "Four-layer enforcement" | Still bypassable |
| External | v9.3.7.1+ | "External validation works" | Platform limitations |
| Current | v9.3.8 (planned) | "Human-in-loop required" | Testing |

---

## Complete Attempt History

### Baseline & Foundation (v9.3.4)

| Date | Version | Plan | Focus | Outcome |
|------|---------|------|-------|---------|
| [Date] | v9.3.4 | [ENH-006-unified-workflow-consolidation](../../plans/v9.3.4-ENH-006-unified-workflow-consolidation.md) | Workflow consolidation | [Status] |

### Iterative Hardening (v9.3.5.x series)

| Date | Version | Plan | Focus | Outcome | Details |
|------|---------|------|-------|---------|---------|
| Jan 27-28 | v9.3.5 | [issue-85-harden-guardrail-enforcement](../../plans/v9.3.5-issue-85-harden-guardrail-enforcement.md) | 18-task hardening | 15/18 complete | [001-baseline](./attempts/001-baseline-v9.3.5/) |
| Jan 28 | v9.3.5.2 | [unified-validation](../../plans/v9.3.5.2-issue-85-unified-validation.md) | Single validation source | ‚úÖ Complete | [002-unified](./attempts/002-unified-validation-v9.3.5.2/) |
| Jan 28 | v9.3.5.3 | [metric-validation](../../plans/v9.3.5.3-issue-85-metric-validation.md) | Metric preservation | ‚úÖ Complete | [003-metric](./attempts/003-metric-validation-v9.3.5.3/) |
| Jan 28 | v9.3.5.6 | [guardrail-registry](../../plans/v9.3.5.6-enh-009-guardrail-registry.md) | Standardized IDs | ‚úÖ Complete | [004-registry](./attempts/004-guardrail-registry-v9.3.5.6/) |

### Architectural Shift (v9.3.6-v9.3.7)

| Date | Version | Plan | Focus | Outcome | Details |
|------|---------|------|-------|---------|---------|
| Jan 29 | v9.3.6 | [layered-defense](../../plans/v9.3.6-issue-85-layered-defense.md) | Human gates | ‚úó Never implemented | [005-layered](./attempts/005-layered-defense-v9.3.6/) |
| Jan 30 | v9.3.7 | [guardrail-enforcement-fix](../../plans/v9.3.7-guardrail-enforcement-fix.md) | Four-layer strategy | ‚ö†Ô∏è Jan 29 FAILURE | [006-four-layer](./attempts/006-four-layer-strategy-v9.3.7/) |

**Critical Event:** Jan 29, 21:00 - Production test ‚Üí Complete enforcement failure

### Post-Failure Response (v9.3.7.1+)

| Date | Version | Plan | Focus | Outcome | Details |
|------|---------|------|-------|---------|---------|
| Jan 31 | v9.3.7.1 | [verification-enhancements](../../plans/v9.3.7.1-verification-enhancements.md) | 12-item verification | ‚úÖ Complete (15a7dae) | [007-verification](./attempts/007-verification-v9.3.7.1/) |
| Feb 1 | v9.3.7.2 | [artifact-updates](../../plans/v9.3.7.2-artifact-updates.md) | Web UI updates | üîÑ Deferred | ‚Äî |

### External Enforcement Attempts (Current)

| Date | Approach | Plans | Status | Details |
|------|----------|-------|--------|---------|
| Jan 31 | Python validation | v9.3.7, v9.3.7.1 | ‚ö†Ô∏è IDE only | [008-python](./attempts/008-python-validation/) |
| Feb 1-2 | n8n orchestration | Multiple | üîÑ In Progress | [009-n8n](./attempts/009-n8n-external-orchestration/) |
| Planned | Multi-turn human | v9.3.8 (TBD) | üìã Recommended | ‚Äî |

---

## Next Steps

- [ ] **Decide:** Continue n8n OR pivot to multi-turn (v9.3.8)
- [ ] **Document:** Create v9.3.8 plan if pivoting
- [ ] **Update:** Knowledge graph with latest findings
- [ ] **Test:** Whichever approach is chosen

---

## Related Documentation

**Issue Tracking:**
- [issue-85](./related-issues/issue-85-initial-hardening.md) - Initial guardrail hardening
- [issue-97](./related-issues/issue-97-production-failure.md) - Jan 29 production failure

**All v9.3.x Plans:**
- See [docs/plans/](../../plans/) for complete series

**Knowledge Graph:**
- [ENFORCEMENT_FAILURE_ANALYSIS](../../knowledge/ENFORCEMENT_FAILURE_ANALYSIS_AND_SOLUTIONS.md)
- [Patterns](../../knowledge/patterns.md#four-layer-enforcement-strategy)
```

---

## Knowledge Graph Integration Workflow

**Goal:** Bidirectional linking between knowledge graph and meta-issue structure(s)

### When Knowledge Graph is Updated

**Trigger:** User requests `/update-knowledge-graph` or updates patterns/gotchas/lessons manually

**Actions Required:**
1. **Check for Meta-Issue References:**
   - Scan pattern/gotcha/lesson for keywords related to ANY active meta-issue
   - Check `docs/issues/` directory for matching meta-issue names
   - Examples of keywords:
     - "enforcement", "guardrails", "validation" ‚Üí v9.3.x-enforcement-saga
     - "performance", "latency", "optimization" ‚Üí performance-investigation
     - "migration", "schema", "rollback" ‚Üí data-migration-saga

2. **Update Relevant Meta-Issue Structure:**
   - If new pattern discovered ‚Üí Add to relevant `attempt-results.md` under "Knowledge Graph Updates"
   - If new gotcha identified ‚Üí Add to `description.md` and relevant attempt folder
   - If root cause understanding evolved ‚Üí Update `analysis/root-cause-evolution.md`

3. **Maintain Bidirectional Links:**
   - **Forward link** in knowledge graph:
     ```markdown
     See [Attempt Name](docs/issues/[meta-issue-name]/attempts/NNN-name/)
     ```
   - **Backward link** in meta-issue:
     ```markdown
     Pattern documented: [Pattern Name](docs/knowledge/patterns.md#pattern-anchor)
     ```

**Example (v9.3.x Enforcement):**
- Forward: `See [v9.3.7 Attempt](docs/issues/v9.3.x-enforcement-saga/attempts/006-four-layer-strategy-v9.3.7/)`
- Backward: `Pattern documented: [Four-Layer Enforcement](docs/knowledge/patterns.md#four-layer-enforcement-strategy)`

### When Meta-Issue is Updated

**Trigger:** New attempt added, results documented, or implementation log updated

**Actions Required:**
1. **Extract Knowledge Graph Updates:**
   - Read new `attempt-results.md` ‚Üí Extract "Key Learnings" section
   - Check if learnings match existing patterns/gotchas
   - Identify new patterns that should be added to knowledge graph

2. **Update Knowledge Graph Files:**
   - **patterns.md:** Add new patterns with meta-issue reference
   - **gotchas.md:** Add domain-specific gotchas
   - **Domain-specific docs:** Update relevant analysis files (e.g., ENFORCEMENT_FAILURE_ANALYSIS)
   - **lessons-learned/[domain]/:** Create new lesson if significant discovery

3. **Cross-Reference:**
   - **In knowledge graph entry:**
     ```markdown
     **Evidence:** [Attempt Name](docs/issues/[meta-issue-name]/attempts/NNN-name/attempt-results.md)
     ```
   - **In meta-issue entry:**
     ```markdown
     **Pattern:** [Pattern Name](docs/knowledge/patterns.md#pattern-anchor)
     ```

**Example (v9.3.x Enforcement):**
- Knowledge graph: `**Evidence:** [v9.3.7.1 Verification](docs/issues/v9.3.x-enforcement-saga/attempts/007-verification-v9.3.7.1/attempt-results.md)`
- Meta-issue: `**Pattern:** [External Validation Required](docs/knowledge/patterns.md#external-validation-pattern)`

### Workflow Integration Points

**Existing Workflows that Should Trigger Meta-Issue Updates:**

1. **`/update-knowledge-graph`:**
   - After updating patterns.md, check if related to ANY active meta-issue
   - Identify meta-issue by scanning `docs/issues/` for keyword matches
   - Update `docs/issues/[meta-issue-name]/description.md`
   - Add cross-reference to relevant attempt folder

2. **`/lesson-learned`:**
   - If lesson relates to active meta-issue (check keywords)
   - Add reference to meta-issue in lesson
   - Add reference to lesson in relevant `attempt-results.md`
   - Examples:
     - Enforcement lesson ‚Üí v9.3.x-enforcement-saga
     - Performance lesson ‚Üí performance-investigation
     - Migration lesson ‚Üí data-migration-saga

3. **Troubleshooting/Debugging:**
   - When user says "update the case study" or "document this finding"
   - Check if it relates to existing meta-issue
   - If yes, check if existing attempt OR new attempt
   - **If existing:** Update `attempt-results.md` with new evidence
   - **If new:** Create new attempt folder following SOP 1

4. **Plan Execution:**
   - Before executing plan, check if plan relates to active meta-issue
   - If yes, create corresponding attempt folder (SOP 1)
   - Document solution-approach.md BEFORE execution
   - Document attempt-results.md AFTER execution
   - Update implementation-log.md with status

5. **Creating New Meta-Issue:**
   - When user requests "create case study" or pattern indicates meta-issue needed
   - Follow SOP 0: Creating New Meta-Issue
   - Initialize structure with templates
   - Link to knowledge graph

---

## Standard Operating Procedure (SOP)

**Purpose:** Step-by-step process for maintaining meta-issue structure and knowledge graph bidirectionality

### SOP 0: Creating New Meta-Issue

**When:** Issue meets meta-issue criteria (3+ attempts, evolving understanding, version span)

**Steps:**
1. **Choose Meta-Issue Name:**
   - Format: `[version-range]-[problem-domain]-saga/` OR `[problem-domain]-investigation/`
   - Examples: `v2.x-auth-redesign/`, `performance-investigation/`, `data-migration-saga/`

2. **Create Directory Structure:**
   ```bash
   META_ISSUE="docs/issues/[meta-issue-name]"
   mkdir -p "$META_ISSUE"/{related-issues,attempts,analysis}
   ```

3. **Create Core Files from Templates:**
   - Copy `meta-issue-README-template.md` ‚Üí `README.md`
   - Copy `meta-issue-description-template.md` ‚Üí `description.md`
   - Copy `meta-issue-implementation-log-template.md` ‚Üí `implementation-log.md`
   - Copy `meta-issue-test-cases-template.md` ‚Üí `test-cases.md`

4. **Document Initial State:**
   - In `description.md`: Document current understanding of problem
   - In `implementation-log.md`: Create "Evolution of Understanding" table
   - In `README.md`: Add navigation, current status, quick links

5. **Link to Knowledge Graph:**
   - Add meta-issue reference to relevant patterns in `docs/knowledge/patterns.md`
   - Add meta-issue reference to relevant gotchas in `docs/knowledge/gotchas.md`

### SOP 1: Creating New Attempt Folder

**When:** New plan is about to be executed for an existing meta-issue

**Steps:**
1. **Determine Attempt Number:**
   - Read `docs/issues/[meta-issue-name]/attempts/`
   - Find highest NNN number (e.g., 009)
   - Increment by 1 (e.g., 010)

2. **Create Directory Structure:**
   ```bash
   META_ISSUE="docs/issues/[meta-issue-name]"
   ATTEMPT_NUM="010"  # Next sequential number
   VERSION="vX.Y.Z"   # Version from plan
   NAME="descriptive-name"

   mkdir -p "$META_ISSUE/attempts/${ATTEMPT_NUM}-${NAME}-${VERSION}/"
   ```

3. **Create Required Files:**
   - Copy `solution-approach-template.md` ‚Üí `solution-approach.md`
   - Copy `plan-reference-template.md` ‚Üí `plan-reference.md`
   - Fill in plan details from `docs/plans/[version]-*.md`

4. **Update Implementation Log:**
   - Add row to appropriate table in `implementation-log.md`
   - Link to plan file, attempt folder
   - Set status to "üîÑ In Progress"

5. **Create Knowledge Graph Stub:**
   - If new pattern expected, add placeholder to `docs/knowledge/patterns.md`
   - Note: "Will be updated after [version] execution"

**Example (v9.3.x Enforcement):**
```bash
mkdir -p docs/issues/v9.3.x-enforcement-saga/attempts/010-retry-logic-v9.3.8/
```

### SOP 2: Documenting Attempt Results

**When:** Plan implementation complete (success, partial, or failed)

**Steps:**
1. **Create attempt-results.md:**
   - Copy `attempt-results-template.md`
   - Fill in status (‚úÖ/‚ö†Ô∏è/‚úó/üîÑ)
   - Document outcome, evidence, key learnings

2. **Update Implementation Log:**
   - Change status from "üîÑ In Progress" to final status
   - Add outcome summary in table

3. **Update Knowledge Graph:**
   - Extract "Key Learnings" from attempt-results.md
   - Add/update patterns in `docs/knowledge/patterns.md`
   - Add/update gotchas in `docs/knowledge/gotchas.md`
   - Create lesson-learned if significant (use `/lesson-learned`)

4. **Cross-Reference:**
   - In attempt-results.md ‚Üí Add "Knowledge Graph Updates" section with links
   - In knowledge graph ‚Üí Add "Evidence" links back to attempt-results.md

5. **Update description.md:**
   - If root cause understanding changed, update description
   - Add summary of latest findings
   - Update "Current Status" section

6. **Update Root Cause Evolution (if applicable):**
   - If understanding shifted significantly, update `analysis/root-cause-evolution.md`
   - Document what changed and why

**Example Path (v9.3.x Enforcement):**
```
docs/issues/v9.3.x-enforcement-saga/attempts/007-verification-v9.3.7.1/attempt-results.md
```

### SOP 3: Updating Knowledge Graph with Meta-Issue Context

**When:** User requests `/update-knowledge-graph` or manually updates patterns/gotchas

**Steps:**
1. **Scan for Meta-Issue-Related Updates:**
   - Check if new pattern/gotcha relates to ANY active meta-issue
   - Keywords to check: meta-issue name, version ranges, problem domain
   - Examples:
     - "enforcement" ‚Üí v9.3.x-enforcement-saga
     - "performance" ‚Üí v2.x-performance-investigation
     - "migration" ‚Üí data-migration-saga

2. **Identify Related Meta-Issue and Attempts:**
   - Read `docs/issues/[meta-issue-name]/implementation-log.md`
   - Find which attempt(s) discovered this pattern/gotcha
   - If multiple attempts, list all

3. **Add Evidence Links:**
   - In knowledge graph entry (patterns.md/gotchas.md):
     ```markdown
     **Evidence:**
     - **Meta-Issue:** [Meta-Issue Name](docs/issues/[meta-issue-name]/)
     - [Attempt 1 Name](docs/issues/[meta-issue-name]/attempts/NNN-name/attempt-results.md) - Outcome
     - [Attempt 2 Name](docs/issues/[meta-issue-name]/attempts/MMM-name/attempt-results.md) - Outcome
     ```

4. **Update Meta-Issue:**
   - In relevant `attempt-results.md`:
     ```markdown
     ## Knowledge Graph Updates
     - **Pattern Added:** [Pattern Name](docs/knowledge/patterns.md#pattern-anchor)
     - **Gotcha Added:** [Gotcha Name](docs/knowledge/gotchas.md#gotcha-anchor)
     ```

5. **Update description.md:**
   - Add latest pattern to "Current Understanding" section
   - Maintain living document status

**Example (v9.3.x Enforcement):**
```markdown
**Evidence:**
- **Meta-Issue:** [v9.3.x Enforcement Saga](docs/issues/v9.3.x-enforcement-saga/)
- [v9.3.7 Four-Layer Strategy](docs/issues/v9.3.x-enforcement-saga/attempts/006-four-layer-strategy-v9.3.7/attempt-results.md)
```

### SOP 4: Troubleshooting with Meta-Issue Reference

**When:** User debugging issues related to an active meta-issue or requests case study update

**Steps:**
1. **Identify Which Meta-Issue (If Any):**
   - Check if current problem relates to existing meta-issue
   - Look in `docs/issues/` for matching meta-issue directories
   - If no match: Evaluate if this should be NEW meta-issue (see "When to Create a Meta-Issue")

2. **Identify If Related to Existing Attempt:**
   - Read `docs/issues/[meta-issue-name]/implementation-log.md`
   - Check if current issue matches previous attempt
   - **If yes:** Update existing attempt-results.md with new evidence
   - **If no:** Create new attempt folder (SOP 1)

3. **Document New Evidence:**
   - Add to "Evidence" section in attempt-results.md
   - Include: screenshots, logs, test results, metrics, failure rates
   - Be specific about what was tested and what failed

4. **Update Root Cause Understanding:**
   - If new insight discovered, update `analysis/root-cause-evolution.md`
   - Add timeline entry showing when understanding shifted
   - Document old belief vs new understanding

5. **Recommend Next Steps:**
   - In attempt-results.md ‚Üí Update "Next Steps" section
   - Link to next recommended attempt if current failed
   - Reference related patterns/gotchas from knowledge graph

**Example Decision Tree:**
```
User: "Update case study - n8n v10 still failing Stage 1"
  ‚Üì
Check: Does this relate to existing meta-issue?
  ‚Üí Yes: v9.3.x-enforcement-saga
  ‚Üì
Check: Which attempt?
  ‚Üí Attempt 009: n8n-external-orchestration
  ‚Üì
Action: Update attempt-results.md with v10 failure evidence
  ‚Üì
Update: implementation-log.md status
Update: description.md if understanding changed
```

---

## Knowledge Graph Entry Templates

**Purpose:** Standard format for knowledge graph entries that reference meta-issue

### Template 1: Pattern Entry (patterns.md)

```markdown
## [Pattern Name]

**Category:** Enforcement | Validation | Architecture
**Discovered:** [Date, version where first identified]
**Reliability:** High | Medium | Low
**Applicability:** [When this pattern applies]

### Description

[2-3 sentence description of the pattern]

### Implementation

[How to implement this pattern]

### Evidence

**Meta-Issue:** [v9.3.x Enforcement Saga](docs/issues/v9.3.x-enforcement-saga/)

**Attempts:**
- [v9.3.X Attempt Name](docs/issues/v9.3.x-enforcement-saga/attempts/NNN-name-vX.Y.Z/attempt-results.md) - [Outcome summary]
- [v9.3.Y Attempt Name](docs/issues/v9.3.x-enforcement-saga/attempts/MMM-name-vX.Y.Z/attempt-results.md) - [Outcome summary]

**Related Lessons:**
- [Lesson Title](docs/lessons-learned/enforcement/lesson-file.md)

### Trade-offs

- **Pros:** What this pattern achieves
- **Cons:** Limitations or costs

### Related Patterns

- [Other Pattern](patterns.md#other-pattern)
```

**Example:**
```markdown
## External Validation Pattern

**Category:** Enforcement
**Discovered:** Jan 31, 2026 (v9.3.7.1)
**Reliability:** High (95%+ compliance in IDE)
**Applicability:** When LLM self-enforcement fails repeatedly

### Description

Move validation outside the LLM execution context to an external enforcement layer (Python script, n8n workflow, etc.) that validates output against constraints before delivery to user.

### Implementation

1. LLM generates output
2. External validator checks constraints (validate_bullets.py)
3. Fail-closed: Invalid output never reaches user
4. LLM receives feedback and regenerates

### Evidence

**Meta-Issue:** [v9.3.x Enforcement Saga](docs/issues/v9.3.x-enforcement-saga/)

**Attempts:**
- [v9.3.7 Four-Layer Strategy](docs/issues/v9.3.x-enforcement-saga/attempts/006-four-layer-strategy-v9.3.7/attempt-results.md) - Included external validation as Layer 4
- [v9.3.7.1 Verification](docs/issues/v9.3.x-enforcement-saga/attempts/007-verification-v9.3.7.1/attempt-results.md) - Implemented validate_bullets.py integration
- [Python Validation](docs/issues/v9.3.x-enforcement-saga/attempts/008-python-validation/attempt-results.md) - ‚úÖ 95%+ compliance in IDE environment

**Related Lessons:**
- [LLM Self-Enforcement Impossible](docs/lessons-learned/enforcement/llm-self-enforcement-limitation.md)

### Trade-offs

- **Pros:**
  - Deterministic validation (95%+ compliance)
  - Fail-closed prevents bad output
  - Platform-independent constraints

- **Cons:**
  - Only works in environments with script execution (IDE, n8n)
  - Cannot be used in Claude Projects or Google AI Studio
  - Adds development complexity

### Related Patterns

- [Multi-Turn Validation](patterns.md#multi-turn-validation)
- [Fail-Closed Enforcement](patterns.md#fail-closed-enforcement)
```

### Template 2: Gotcha Entry (gotchas.md)

```markdown
## [Gotcha Title]

**Category:** Enforcement | Platform | LLM Behavior
**Severity:** Critical | High | Medium | Low
**Discovered:** [Date, version]
**Affects:** [Platforms/components affected]

### Problem

[What goes wrong and why it's surprising]

### Evidence

**Meta-Issue:** [v9.3.x Enforcement Saga](docs/issues/v9.3.x-enforcement-saga/)

**Observed In:**
- [vX.Y.Z Attempt](docs/issues/v9.3.x-enforcement-saga/attempts/NNN-name/attempt-results.md) - [What happened]

**Compliance Rates:**
- Platform 1 (Chat): ~X%
- Platform 2 (Claude Project): ~Y%
- Platform 3 (Google AI Studio): ~Z%

### Solution

[How to avoid or work around this gotcha]

### Related

- [Pattern Name](patterns.md#pattern-name)
- [Lesson Learned](docs/lessons-learned/enforcement/lesson.md)
```

**Example:**
```markdown
## Platform-Specific Enforcement Limits

**Category:** Platform
**Severity:** Critical
**Discovered:** Jan 29, 2026 (v9.3.7 production failure)
**Affects:** Claude Projects, Google AI Studio, Chat interfaces

### Problem

LLM platforms without external validation capability have an enforcement ceiling of ~60-80% compliance, regardless of prompt quality, structural constraints, or documentation. LLMs can read, understand, and choose to ignore instructions.

### Evidence

**Meta-Issue:** [v9.3.x Enforcement Saga](docs/issues/v9.3.x-enforcement-saga/)

**Observed In:**
- [v9.3.7 Four-Layer Strategy](docs/issues/v9.3.x-enforcement-saga/attempts/006-four-layer-strategy-v9.3.7/attempt-results.md) - Jan 29 production test: 0% compliance despite four enforcement layers
- [n8n External Orchestration](docs/issues/v9.3.x-enforcement-saga/attempts/009-n8n-external-orchestration/attempt-results.md) - Stage 1 validation failing with improved prompts

**Compliance Rates:**
- Platform 1 (Chat): ~30-40%
- Platform 2 (Claude Project): ~50-60%
- Platform 3 (Google AI Studio): ~50-70%
- IDE with validate_bullets.py: ~95%+
- n8n with external validation (planned): ~85-90%

### Solution

For high-compliance requirements (>80%):
1. Use external validation (Python scripts, n8n workflows)
2. Implement fail-closed enforcement
3. Add multi-turn human-in-loop gates
4. Accept platform limitations for convenience use cases

For convenience use cases (60-80% acceptable):
1. Use best-effort prompting
2. Document expected compliance ceiling
3. User verification as final gate

### Related

- [External Validation Pattern](patterns.md#external-validation-pattern)
- [LLM Self-Enforcement Limitation](docs/lessons-learned/enforcement/llm-self-enforcement-limitation.md)
```

### Template 3: Cross-Reference in Lessons Learned

When creating enforcement-related lessons with `/lesson-learned`:

```markdown
[Standard lesson-learned format...]

## Related Meta-Issue

**Enforcement Saga:** [v9.3.x Enforcement Saga](docs/issues/v9.3.x-enforcement-saga/)

**Relevant Attempts:**
- [Attempt NNN](docs/issues/v9.3.x-enforcement-saga/attempts/NNN-name/attempt-results.md) - This lesson was extracted from this attempt

**Current Status:** [Link to implementation-log.md for latest]
```

---

## Meta-Issue Core File Templates

**Purpose:** Templates for creating the core structure of any new meta-issue

### Template: README.md (Navigation Hub)

```markdown
# [Meta-Issue Name]

**Status:** üîÑ Active | ‚úÖ Resolved | ‚è∏Ô∏è Paused
**Version Range:** [e.g., v9.3.4 - v9.3.7.1+]
**Related Issues:** #85, #97, [others]
**Started:** YYYY-MM-DD
**Last Updated:** YYYY-MM-DD

---

## Quick Links

- [Description](./description.md) - Current understanding and living document
- [Implementation Log](./implementation-log.md) - Complete attempt history
- [Test Cases](./test-cases.md) - Validation scenarios
- [Root Cause Evolution](./analysis/root-cause-evolution.md) - How understanding evolved

---

## Current Status

**Latest Attempt:** [NNN-attempt-name-version](./attempts/NNN-attempt-name-version/)
**Status:** üîÑ In Progress | ‚úÖ Complete | ‚úó Failed
**Next Action:** [What needs to happen next]

---

## Attempt Summary

| # | Attempt | Version | Status | Outcome |
|---|---------|---------|--------|---------|
| 001 | [Name] | vX.Y.Z | ‚úÖ | Brief outcome |
| 002 | [Name] | vX.Y.Z | ‚ö†Ô∏è | Brief outcome |
| ... | ... | ... | ... | ... |

---

## Key Findings

1. **Finding 1:** [Major discovery from attempts]
2. **Finding 2:** [Another key insight]

---

## Knowledge Graph Links

- [Pattern Name](../../knowledge/patterns.md#anchor)
- [Gotcha Name](../../knowledge/gotchas.md#anchor)
- [Lesson Learned](../../lessons-learned/domain/lesson.md)

---

**Navigation:** [All Meta-Issues](../) | [Knowledge Graph](../../knowledge/)
```

### Template: description.md (Living Document)

```markdown
# [Meta-Issue Name]: Description

**Last Updated:** YYYY-MM-DD
**Current Understanding:** [Brief statement of what we now believe]

---

## Problem Statement

[Clear description of the core problem that spawned this meta-issue]

### Symptoms

- Symptom 1
- Symptom 2
- Symptom 3

### Impact

- Impact on users/system/process
- Severity: Critical | High | Medium | Low

---

## Current Understanding (Living Section)

**Root Cause:** [Best current understanding - updated as attempts reveal new insights]

**Key Insights:**
1. [Insight from attempts]
2. [Another insight]

**Platform/Domain Specific Details:**
- Detail 1
- Detail 2

---

## Evolution of Understanding

| Date | Belief | Invalidated By | New Understanding |
|------|--------|----------------|-------------------|
| Start | "Initial hypothesis" | Attempt 001 | "Revised understanding" |
| Later | "Second hypothesis" | Attempt 005 | "Further refinement" |

---

## Related Documentation

- [Implementation Log](./implementation-log.md)
- [Root Cause Evolution](./analysis/root-cause-evolution.md)
- **Knowledge Graph:**
  - [Pattern](../../knowledge/patterns.md#anchor)
  - [Gotcha](../../knowledge/gotchas.md#anchor)

---

**Note:** This is a living document - updated as each attempt reveals new insights.
```

### Template: test-cases.md (Validation Scenarios)

```markdown
# [Meta-Issue Name]: Test Cases

**Purpose:** Validation scenarios to verify if proposed solutions actually solve the problem

---

## Core Validation Scenarios

### Scenario 1: [Name]

**Description:** [What this tests]

**Steps:**
1. Step 1
2. Step 2
3. Step 3

**Expected Outcome:** [What success looks like]

**Tested By:**
- Attempt 001: ‚úó Failed
- Attempt 003: ‚ö†Ô∏è Partial
- Attempt 007: ‚úÖ Success

---

### Scenario 2: [Name]

[Same format as above]

---

## Regression Tests

**Purpose:** Ensure solution doesn't break existing functionality

### Test 1: [Name]
[Details]

### Test 2: [Name]
[Details]

---

## Platform-Specific Tests (If Applicable)

### Platform 1: [Name]
- Test case 1
- Test case 2

### Platform 2: [Name]
- Test case 1
- Test case 2

---

## Success Criteria

**This meta-issue is considered RESOLVED when:**
1. All core validation scenarios pass
2. Regression tests pass
3. Solution is stable across [time period/sessions/platforms]
4. Root cause is definitively understood and addressed

---

**Last Updated:** YYYY-MM-DD
```

---

## Critical Files to Create

### For v9.3.x Enforcement Saga (Immediate)

1. **docs/issues/v9.3.x-enforcement-saga/README.md** - Navigation hub
2. **docs/issues/v9.3.x-enforcement-saga/description.md** - Living document
3. **docs/issues/v9.3.x-enforcement-saga/implementation-log.md** - Complete history
4. **docs/issues/v9.3.x-enforcement-saga/test-cases.md** - Validation scenarios
5. **Attempt folders (001-009)** - For each historical attempt
6. **Template files** - For consistent future attempt documentation

### For General Meta-Issue System (Templates)

1. **docs/issues/templates/meta-issue-README-template.md**
2. **docs/issues/templates/meta-issue-description-template.md**
3. **docs/issues/templates/meta-issue-implementation-log-template.md**
4. **docs/issues/templates/meta-issue-test-cases-template.md**
5. **docs/issues/templates/solution-approach-template.md** (already exists in plan)
6. **docs/issues/templates/attempt-results-template.md** (already exists in plan)
7. **docs/issues/templates/plan-reference-template.md** (already exists in plan)

---

## Verification

### After v9.3.x Enforcement Saga Implementation

1. **Traceability Check:** Can we trace from any v9.3.x plan to its outcome?
2. **Knowledge Graph Links:** Are patterns/gotchas linked to specific attempts?
3. **Navigation:** Can someone unfamiliar navigate the saga chronologically?
4. **Completeness:** Are all v9.3.x versions documented?

### After Template System Implementation

1. **Template Existence:** Do all 7 templates exist in `docs/issues/templates/`?
2. **Template Usability:** Can new meta-issue be created in <10 minutes using templates?
3. **Generalization:** Are templates free of v9.3.x-specific language?
4. **SOP Clarity:** Can someone follow SOP 0 to create new meta-issue without guidance?

---

## Success Criteria

### Phase 1: v9.3.x Enforcement Saga Migration ‚úÖ

- All v9.3.x versions have attempt folders (001-009)
- Implementation log references all plan files correctly
- Original case study content migrated (not lost)
- Bidirectional links established between knowledge graph and meta-issue

### Phase 2: Generalized Template System ‚úÖ

- 7 templates created in `docs/issues/templates/`
- SOPs updated to work for ANY meta-issue (not just v9.3.x)
- Knowledge graph integration workflow supports multiple meta-issues
- "When to Create a Meta-Issue" criteria documented

### Phase 3: Usability ‚úÖ

- Can answer "What was tried in attempt NNN?" in <30 seconds for ANY meta-issue
- Can trace "Why did we pivot from approach A to B?" with evidence
- New attempts can be added using templates without confusion
- New meta-issues can be created following SOP 0

---

## Quick Start Guide: Creating a New Meta-Issue

**Use this guide when you identify a complex problem requiring meta-issue tracking.**

### Step 1: Evaluate If Meta-Issue is Needed

Ask:
- Will this require 3+ solution attempts?
- Is the root cause unclear or evolving?
- Does this span multiple versions?
- Are there multiple related issues?

**If YES to 2+ questions:** Create meta-issue

### Step 2: Create Structure

```bash
# Choose descriptive name
META_ISSUE="docs/issues/[problem-domain]-investigation"

# Create directories
mkdir -p "$META_ISSUE"/{related-issues,attempts,analysis}

# Copy templates
cp docs/issues/templates/meta-issue-README-template.md "$META_ISSUE/README.md"
cp docs/issues/templates/meta-issue-description-template.md "$META_ISSUE/description.md"
cp docs/issues/templates/meta-issue-implementation-log-template.md "$META_ISSUE/implementation-log.md"
cp docs/issues/templates/meta-issue-test-cases-template.md "$META_ISSUE/test-cases.md"

# Create analysis files
touch "$META_ISSUE/analysis/root-cause-evolution.md"
touch "$META_ISSUE/analysis/timeline-visualization.md"
touch "$META_ISSUE/analysis/lessons-learned.md"
```

### Step 3: Customize Core Files

1. **README.md:**
   - Update meta-issue name
   - Add related issue numbers
   - Set initial status

2. **description.md:**
   - Write problem statement
   - List symptoms and impact
   - Document initial hypothesis

3. **implementation-log.md:**
   - Create "Evolution of Understanding" table
   - Add placeholder for first attempt

4. **test-cases.md:**
   - Define core validation scenarios
   - List success criteria

### Step 4: Create First Attempt

```bash
# When starting first solution attempt
mkdir -p "$META_ISSUE/attempts/001-[attempt-name]-[version]"

# Copy attempt templates
cd "$META_ISSUE/attempts/001-[attempt-name]-[version]"
cp ../../../templates/solution-approach-template.md solution-approach.md
cp ../../../templates/plan-reference-template.md plan-reference.md

# Fill in solution-approach.md BEFORE implementing
# Fill in plan-reference.md linking to docs/plans/[version]-*.md
```

### Step 5: Link to Knowledge Graph

1. Update relevant patterns.md entries
2. Update relevant gotchas.md entries
3. Add meta-issue reference to related lessons

### Step 6: Iterate

As each attempt completes:
1. Create `attempt-results.md` from template
2. Update `implementation-log.md`
3. Update `description.md` if understanding evolved
4. Update knowledge graph bidirectionally
5. Create next attempt folder if needed

---

## Notes

### For All Meta-Issues

- **Living Structure:** Meta-issues grow as new attempts are made
- **Industry Standards:** Use post-mortem, remediation, root cause terminology
- **Bidirectional Sync:** Keep knowledge graph and meta-issue in sync
- **Versioned Understanding:** Document how root cause understanding evolved

### For v9.3.x Enforcement Saga Specifically

- Keep original ENFORCEMENT_SYSTEM_FAILURE_CASE_STUDY.md as reference until migration complete
- This is the **canonical documentation** for the enforcement saga
- Will continue to grow as v9.3.8, v9.3.9, etc. are attempted

### For Future Meta-Issues

- Use templates in `docs/issues/templates/`
- Follow SOP 0 for creation
- Integrate with knowledge graph from day one
- Start with attempt 001, increment sequentially
