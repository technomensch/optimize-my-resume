# v6.0.5 - Documentation Cleanup & Structural Reorganization

**Branch:** `v6.0.5-docs_cleanup`
**Date:** 2025-12-29
**Type:** PATCH (Documentation & structure cleanup, no functional changes)

---

## ğŸ¯ Objectives

1. **Rename `/shared/` â†’ `/phases/`** - More intuitive naming for v6.0 modular architecture
2. **Remove outdated files** - Delete/archive v5.0 legacy files no longer referenced
3. **Create new wireframes** - Visual documentation for v6.0 workflow (ASCII + Mermaid)
4. **Update all references** - Ensure PROJECT-INSTRUCTIONS.md and other files point to correct paths
5. **Consolidate test cases** - Organize test documentation for v6.0.1-6.0.4

---

## ğŸ“ Folder Structure Changes

### Before (v6.0.4)
```
/optimize-my-resume/
â”œâ”€â”€ /shared/                        â† Confusing name
â”‚   â”œâ”€â”€ /phase-1/
â”‚   â”œâ”€â”€ /phase-2/
â”‚   â”œâ”€â”€ /phase-3/
â”‚   â”œâ”€â”€ /phase-4/
â”‚   â”œâ”€â”€ /v5-legacy/                 â† Outdated
â”‚   â””â”€â”€ opus-handoff.md             â† Temporary artifact
â”œâ”€â”€ /modes/                         â† v5.0 files (not referenced)
â”œâ”€â”€ /wireframes/                    â† v5.0 wireframes (outdated)
â”œâ”€â”€ CHANGELOG.md (root)             â† Duplicate/outdated
â””â”€â”€ ADD_REMOTE_WORK_LOGIC.md        â† v5.1 prompt (obsolete)
```

### After (v6.0.5)
```
/optimize-my-resume/
â”œâ”€â”€ /phases/                        â† Renamed from /shared/
â”‚   â”œâ”€â”€ /phase-1/                   â† Foundation (v6.0.1)
â”‚   â”œâ”€â”€ /phase-2/                   â† Core Integration (v6.0.2)
â”‚   â”œâ”€â”€ /phase-3/                   â† Router & Workflows (v6.0.3)
â”‚   â””â”€â”€ /phase-4/                   â† Summary & Polish (v6.0.4)
â”œâ”€â”€ /wireframes/                    â† NEW: v6.0 visual documentation
â”‚   â”œâ”€â”€ phase-1-foundation.md       â† ASCII + Mermaid
â”‚   â”œâ”€â”€ phase-2-core-integration.md
â”‚   â”œâ”€â”€ phase-3-router-workflows.md
â”‚   â”œâ”€â”€ phase-4-summary-polish.md
â”‚   â””â”€â”€ complete-workflow.md        â† End-to-end v6.0 flow
â”œâ”€â”€ /docs/legacy/                   â† NEW: Archived obsolete files
â”‚   â”œâ”€â”€ /modes-v5/                  â† Moved from /modes/
â”‚   â”œâ”€â”€ /wireframes-v5/             â† Moved from /wireframes/
â”‚   â”œâ”€â”€ /shared-v5/                 â† v5-legacy subfolder
â”‚   â”œâ”€â”€ CHANGELOG-v5.md             â† Root CHANGELOG.md
â”‚   â””â”€â”€ ADD_REMOTE_WORK_LOGIC.md    â† v5.1 implementation prompt
â””â”€â”€ (CHANGELOG.md removed)          â† Duplicate deleted
```

---

## ğŸ—‚ï¸ Detailed File Operations

### Phase 1: Rename `/shared/` â†’ `/phases/`

**Files to rename:**
```bash
mv shared/ phases/
```

**References to update:**
1. `PROJECT-INSTRUCTIONS.md` - All `shared/phase-X/` â†’ `phases/phase-X/`
2. `README.md` - File structure diagram
3. `docs/CHANGELOG.md` - v6.0.0 entry references
4. `ROADMAP.md` - Phase tracking references
5. `quick-start-mode.md` - If any references exist

**Expected changes:** ~15-20 file path updates across 5 files

---

### Phase 2: Archive Obsolete Files

#### 2.1 Create Legacy Archive Directory
```bash
mkdir -p docs/legacy/{modes-v5,wireframes-v5,shared-v5,implementation-prompts}
```

#### 2.2 Move Outdated Files

**From `/modes/` (v5.0 - Not referenced):**
```bash
mv modes/mode-1-full-analysis.md docs/legacy/modes-v5/
mv modes/mode-2-bullet-optimization.md docs/legacy/modes-v5/
mv modes/mode-3-jd-comparison.md docs/legacy/modes-v5/
rmdir modes/  # Remove empty directory
```

**From `/wireframes/` (v5.0 - Outdated):**
```bash
mv wireframes/mode-1-workflow.md docs/legacy/wireframes-v5/
mv wireframes/mode-2-workflow.md docs/legacy/wireframes-v5/
mv wireframes/mode-3-workflow.md docs/legacy/wireframes-v5/
rmdir wireframes/  # Will be recreated with v6.0 wireframes
```

**From `/phases/v5-legacy/` (Renamed from `/shared/v5-legacy/`):**
```bash
mv phases/v5-legacy/initial-greeting.md docs/legacy/shared-v5/
mv phases/v5-legacy/job-summary-creation.md docs/legacy/shared-v5/
rmdir phases/v5-legacy/
```

**Root-level obsolete files:**
```bash
mv CHANGELOG.md docs/legacy/CHANGELOG-v5.md  # Duplicate, outdated
mv ADD_REMOTE_WORK_LOGIC.md docs/legacy/implementation-prompts/
mv phases/opus-handoff.md docs/plans/archive/opus-handoff.md
```

#### 2.3 Create Legacy README
```bash
# Create docs/legacy/README.md explaining what's archived and why
```

---

### Phase 3: Create New Wireframes (v6.0)

Create `/wireframes/` directory with comprehensive visual documentation.

#### 3.1 Phase-Specific Wireframes (5 files)

Each file contains:
1. **ASCII diagram** - Terminal-friendly visualization
2. **Mermaid diagram** - GitHub-rendered flowchart
3. **Phase description** - What happens, inputs/outputs, files involved

**Files to create:**

1. **`wireframes/phase-1-foundation.md`**
   - Job History v2.0 creation flow
   - 17-point JD parsing flow
   - Entry router decision tree

2. **`wireframes/phase-2-core-integration.md`**
   - Evidence matching flow (requirement-by-requirement)
   - Blocking gates logic
   - Mode 1 & Mode 3 enhancements

3. **`wireframes/phase-3-router-workflows.md`**
   - 8-scenario routing flowchart
   - Incremental update workflow
   - JD re-comparison with diff

4. **`wireframes/phase-4-summary-polish.md`**
   - Master summary generation
   - Per-JD summary customization flow

5. **`wireframes/complete-workflow.md`**
   - End-to-end user journey (all 3 modes)
   - Entry routing â†’ Mode execution â†’ Output
   - State transitions between modes

#### 3.2 Wireframe Template Structure

Each wireframe follows this format:

```markdown
# Phase X - [Phase Name]

**Version:** 1.0
**Last Updated:** 2025-12-29
**Related Modules:** phases/phase-X/

---

## Overview
[Brief description of what this phase does]

## ASCII Diagram
[Terminal-friendly ASCII art flowchart]

## Mermaid Diagram
[GitHub-rendered Mermaid flowchart]

## Inputs
- [What data/files are required]

## Outputs
- [What gets generated/modified]

## Files Involved
- phases/phase-X/[module].md

## Decision Points
- [Key branching logic]
```

---

### Phase 4: Update Documentation References

#### 4.1 Files Requiring Updates

**`PROJECT-INSTRUCTIONS.md`:**
- Change: `shared/phase-1/` â†’ `phases/phase-1/`
- Change: `shared/phase-2/` â†’ `phases/phase-2/`
- Change: `shared/phase-3/` â†’ `phases/phase-3/`
- Change: `shared/phase-4/` â†’ `phases/phase-4/`
- Estimated: 15-20 occurrences

**`README.md`:**
- Update file structure tree
- Change: `/shared/` â†’ `/phases/`
- Update folder descriptions

**`docs/CHANGELOG.md`:**
- Update v6.0.0 entry references
- Add v6.0.5 entry documenting cleanup

**`ROADMAP.md`:**
- Update phase tracking references
- Add v6.0.5 entry

**`quick-start-mode.md`:**
- Check for any `shared/` references (unlikely but verify)

---

## ğŸ“‹ Test Case Recommendations

### Current State

**Existing test files:**
- `docs/plans/v6.0-deep-dive-test-cases.md` - General v6.0 test cases (95+ tests)
- Referenced in v6.0.1 context but covers all phases

### Recommendation 1: Consolidate Test Documentation

**Option A: Keep as-is**
- Single comprehensive test file covers all v6.0 features
- Easier to maintain (one source of truth)
- Risk: May become too large/unwieldy

**Option B: Split by phase** (RECOMMENDED)
- Create phase-specific test files:
  - `docs/plans/test-cases-phase-1.md` (Foundation)
  - `docs/plans/test-cases-phase-2.md` (Core Integration)
  - `docs/plans/test-cases-phase-3.md` (Router & Workflows)
  - `docs/plans/test-cases-phase-4.md` (Summary & Polish)
- Keep `v6.0-deep-dive-test-cases.md` as master reference
- Benefits: Easier to navigate, clearer ownership

### Recommendation 2: Test Case Coverage

**Current coverage (from v6.0-deep-dive-test-cases.md):**
- âœ… JD Parser: 22 test cases
- âœ… Skills Categorizer: 25 test cases
- âœ… Evidence Matcher: 16 test cases
- âœ… Router: 17 test cases
- âœ… Summary Generator: 8 test cases
- **Total: 95+ test cases**

**Missing coverage:**
- âš ï¸ Phase 2 integration tests (Mode 1 â†’ Mode 3 flow)
- âš ï¸ Phase 3 incremental update edge cases
- âš ï¸ Phase 3 re-comparison diff accuracy
- âš ï¸ Phase 4 professional summary validation

### Recommendation 3: Should Opus Create Phase-Specific Tests?

**Question:** Should I ask Opus to create test cases for v6.0.2-6.0.4 to validate implementation?

**Analysis:**

**Pros:**
- âœ… Comprehensive validation of implementation vs plan
- âœ… Opus has context on original design intent
- âœ… Can identify gaps in current test coverage
- âœ… Phase-specific tests easier to maintain

**Cons:**
- âŒ May duplicate existing test cases
- âŒ Time investment (Opus needs context for each phase)
- âŒ v6.0 already implemented - retroactive testing less valuable

**RECOMMENDED APPROACH:**

**Option 1: Targeted Gap-Filling** (RECOMMENDED)
- Review existing `v6.0-deep-dive-test-cases.md`
- Identify gaps in Phase 2-4 coverage
- Ask Opus to create ONLY missing test cases
- Append to existing file or create supplements

**Option 2: Full Phase-Specific Test Suite**
- Ask Opus to create comprehensive test suites for each phase
- Use existing tests as baseline, expand with implementation details
- More thorough but time-intensive

**Option 3: Skip for now**
- v6.0 already released and documented
- Focus on v6.1+ testing when new features are added
- Use existing 95+ tests as sufficient coverage

**MY RECOMMENDATION:** **Option 1 - Targeted Gap-Filling**

**Action items:**
1. Read `v6.0-deep-dive-test-cases.md` to identify gaps
2. Create a "Test Coverage Gap Analysis" section
3. Request Opus to fill specific gaps:
   - Mode 1 â†’ Mode 3 integration flow
   - Incremental update edge cases (add/edit/remove)
   - Re-comparison diff accuracy
   - Professional summary validation
4. Append new tests to existing file with clear section headers

---

## ğŸ”„ Implementation Sequence

### Step 1: Rename & Update References (30 min)
1. Rename `shared/` â†’ `phases/`
2. Update PROJECT-INSTRUCTIONS.md references (15-20 changes)
3. Update README.md, CHANGELOG.md, ROADMAP.md
4. Test: Search for any remaining `shared/` references

### Step 2: Archive Obsolete Files (15 min)
1. Create `docs/legacy/` directory structure
2. Move `/modes/` â†’ `docs/legacy/modes-v5/`
3. Move `/wireframes/` â†’ `docs/legacy/wireframes-v5/`
4. Move root obsolete files (CHANGELOG.md, ADD_REMOTE_WORK_LOGIC.md)
5. Move `phases/v5-legacy/` â†’ `docs/legacy/shared-v5/`
6. Create `docs/legacy/README.md`

### Step 3: Create New Wireframes (60 min)
1. Create `/wireframes/` directory
2. Write `phase-1-foundation.md` (ASCII + Mermaid)
3. Write `phase-2-core-integration.md` (ASCII + Mermaid)
4. Write `phase-3-router-workflows.md` (ASCII + Mermaid)
5. Write `phase-4-summary-polish.md` (ASCII + Mermaid)
6. Write `complete-workflow.md` (end-to-end flow)

### Step 4: Documentation Updates (20 min)
1. Update CHANGELOG.md with v6.0.5 entry
2. Update ROADMAP.md with v6.0.5 entry
3. Verify all documentation links work

### Step 5: Git Operations (10 min)
1. Stage all changes
2. Commit with structured message
3. Push to origin

**Total estimated time:** ~2 hours

---

## âœ… Success Criteria

### Functional
- [ ] All `/shared/` references updated to `/phases/`
- [ ] No broken file paths in PROJECT-INSTRUCTIONS.md
- [ ] README.md file structure accurate
- [ ] All obsolete files archived (not deleted)

### Documentation
- [ ] 5 new wireframes created (ASCII + Mermaid)
- [ ] `docs/legacy/README.md` explains what's archived
- [ ] CHANGELOG.md v6.0.5 entry complete
- [ ] ROADMAP.md v6.0.5 entry complete

### Testing
- [ ] Test plan recommendation documented
- [ ] Gap analysis complete (if pursuing Option 1)

### Quality
- [ ] No duplicate files across legacy and active directories
- [ ] Clear separation: active (phases/), legacy (docs/legacy/), plans (docs/plans/)
- [ ] All inline version comments updated (v6.0.5)

---

## ğŸ“Š File Impact Summary

**Files to rename:** 1 directory (`shared/` â†’ `phases/`)
**Files to move:** ~12 files (to `docs/legacy/`)
**Files to delete:** 1 file (root `CHANGELOG.md` duplicate)
**Files to create:** 6 files (5 wireframes + legacy README)
**Files to modify:** 5 files (PROJECT-INSTRUCTIONS.md, README.md, CHANGELOG.md, ROADMAP.md, quick-start-mode.md)

**Total changes:** ~25 file operations

---

## ğŸ” Validation Steps

### Pre-Commit Checks
```bash
# 1. Search for remaining shared/ references
grep -r "shared/" --exclude-dir=".git" --exclude-dir="docs/legacy"

# 2. Verify phases/ references work
grep -r "phases/phase-1" PROJECT-INSTRUCTIONS.md

# 3. Check for duplicate files
find . -name "*.md" -type f | sort | uniq -d

# 4. Verify no broken symlinks
find . -type l ! -exec test -e {} \; -print
```

### Post-Commit Checks
```bash
# 1. Test PROJECT-INSTRUCTIONS.md loads in Claude
# (Manual: Copy to Claude Project, verify no errors)

# 2. Verify wireframes render on GitHub
# (Manual: Check wireframes/ directory on GitHub web)

# 3. Confirm legacy files preserved
ls -la docs/legacy/modes-v5/
ls -la docs/legacy/wireframes-v5/
```

---

## ğŸ“ Commit Message Template

```
refactor(v6.0.5): documentation cleanup and structural reorganization

BREAKING CHANGES:
- Renamed /shared/ â†’ /phases/ for clearer v6.0 architecture naming
- Moved v5.0 legacy files to /docs/legacy/ (modes, wireframes, prompts)
- Deleted duplicate root CHANGELOG.md (docs/CHANGELOG.md is canonical)

Added:
- 5 new v6.0 wireframes (ASCII + Mermaid) for each phase + complete workflow
- docs/legacy/ directory with organized v5.0 archival
- docs/legacy/README.md explaining archived content

Changed:
- Updated all references: shared/phase-X/ â†’ phases/phase-X/
- PROJECT-INSTRUCTIONS.md: 15 path updates
- README.md: File structure diagram updated
- CHANGELOG.md: v6.0.5 entry added
- ROADMAP.md: v6.0.5 tracking added

Removed:
- /modes/ directory (moved to docs/legacy/modes-v5/)
- /wireframes/ directory (v5.0 wireframes moved to docs/legacy/wireframes-v5/)
- /shared/v5-legacy/ (moved to docs/legacy/shared-v5/)
- Root CHANGELOG.md (duplicate, outdated)
- ADD_REMOTE_WORK_LOGIC.md (v5.1 prompt, archived)

Impact:
- No functional changes - purely documentation and structure
- All v6.0 modules remain intact (phases/phase-1 through phase-4)
- Improved repository navigation and clarity
- Clear separation: active code vs legacy vs plans

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

---

## ğŸš€ Next Steps (Post-v6.0.5)

### Immediate (v6.0.6 potential)
1. **Test case gap-filling** - Implement Recommendation Option 1
2. **Wireframe validation** - Get user feedback on ASCII vs Mermaid preference
3. **Legacy cleanup review** - Confirm nothing important was archived

### Future (v6.1.0+)
1. **Output specification templates** - From ROADMAP backlog
2. **Enhanced error messages (E001-E008)** - From ROADMAP
3. **Batch JD comparison** - From ROADMAP backlog

---

**Plan Status:** READY FOR EXECUTION
**Created:** 2025-12-29
**Next Step:** Execute Phase 1 (Rename & Update References)
