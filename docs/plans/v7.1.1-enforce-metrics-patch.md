# Issue #34: v7.1.1 Patch - Strategic Fit Override & Metric Preservation Guardrails

**Status:** Ready for Implementation
**Target Files:** `PROJECT-INSTRUCTIONS.md`, `Project-GUI-Instructions.md`, `core/fit-thresholds.md`, `quick-start-phase.md`, `README.md`
**Version:** v7.1.1
**Related To:** Issue #33 (Strategic Assessment Methodology)

## 1. Context & Problem Statement

Recent testing against a generic B2B SaaS Technical Writer role revealed 1 critical flaws in the v7.1.0 logic:

**Data Loss During Keyword Optimization:** When rewriting bullets to include specific keywords (e.g., "ownership," "aligned"), the system inadvertently deleted hard metrics (e.g., "20 API calls," "6 systems"). There was no guardrail to enforce the persistence of numeric data during semantic rewriting.

## 2. Technical Implementation

This patch introduces specific overrides to multiple instruction files to align system behavior with strategic hiring principles, ensure data integrity, and maintain version consistency across the repository.

To make the system robust against this in the future, you should add a Metric Preservation Guardrail. This forces the AI to "scan for numbers" before and after any rewrite.

üõ†Ô∏è Step 1: Update Industry Tuning (Fixing the SaaS Penalty)
Instruction:

Search your file for the <technical_skills_transferability_exception> tag (located inside <industry_context_validation>).

Delete the existing tag and Replace it with this block:

```xml
    <technical_role_exception>
      <logic>
        Code is code. Tools are tools.
        IF the role is heavily technical (Technical Writer, Developer, DevOps) AND the toolset matches (e.g., Git, Azure, Jira),
        THEN reduce Industry Gap Penalty by 75%.
        
        Reasoning: A Technical Writer using "Docs-as-Code" in Government is using the exact same workflow as a SaaS writer. The domain matters less than the workflow proficiency.
      </logic>
    </technical_role_exception>
```

üõ†Ô∏è Step 2: Add Metric Preservation (Fixing Data Loss)
Instruction:

Search your file for <system_guardrails>.

Scroll to the bottom of that section (just before the closing </system_guardrails> tag).

Paste this consolidated block (which combines the logic of the two snippets you provided into one definitive rule):

```xml
    <metric_preservation_guardrail id="29">
      <priority>CRITICAL</priority>
      <trigger>When rewriting, optimizing, or editing existing bullets (especially for keyword inclusion)</trigger>
      
      <instruction>
        You must perform a "Data Integrity Audit" before finalizing any edited bullet.
      </instruction>
      
      <audit_logic>
        1. Extract all numeric values (integers, percentages, currency) from the ORIGINAL bullet.
        2. Extract all numeric values from the NEW bullet.
        3. IF a specific number from Original is missing in New:
           STOP and Verify: "Did I intend to remove this metric?"
           IF NO (accidental loss during rewriting): RESTORE the metric immediately.
           IF YES (replaced by better metric): Proceed.
      </audit_logic>
      
      <example>
        Original: "Managed 20 API calls across 6 systems."
        Draft: "Managed API calls to ensure team alignment."
        Audit: 
          - Original has {20, 6}
          - Draft has {}
          - ERROR: Data Loss Detected.
        Correction: "Managed 20 API calls across 6 systems to ensure team alignment."
      </example>
    </metric_preservation_guardrail>
```

üõ†Ô∏è Step 3: Apply v7.1.1 Version Bumps & Sync
Instruction:

Update the version number to **7.1.1** and the last updated date in the following files:

1.  **`PROJECT-INSTRUCTIONS.md`**
2.  **`Project-GUI-Instructions.md`**
3.  **`core/fit-thresholds.md`**
4.  **`quick-start-phase.md`**
5.  **`README.md`** (Update version to v7.1.1)
6.  **`ROADMAP.md`** (Update "Current Version")
7.  **`docs/CHANGELOG.md`** (Add v7.1.1 section)

üõ†Ô∏è Step 4: Propagate Logic to GUI and Core Files
Instruction:

Apply the `technical_role_exception` and `metric_preservation_guardrail` logic to **`Project-GUI-Instructions.md`** and **`core/fit-thresholds.md`** where applicable (e.g., `fit-thresholds.md` only needs the exception replacement, not the guardrail).