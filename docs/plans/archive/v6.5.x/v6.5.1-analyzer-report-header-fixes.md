# v6.5.1 Analyzer Report Header Fixes - Implementation Plan

**Branch:** `v6.5.1-analyzer-report-header-fixes`  
**Created:** 2026-01-07  
**Status:** Planning

## Overview

This plan implements fixes for GitHub issues #5-12, addressing display and formatting issues in the Phase 1 Resume Analyzer report. All changes are surgical updates to `PROJECT-INSTRUCTIONS.md` and `quick-start-phase.md`, with exact code from the issues preserved without modification.

## Conflict Analysis

**POTENTIAL CONFLICTS IDENTIFIED:**

1. **Issues #5 and #8** - Both modify `<per_bullet_audit_rules>` section
   - Issue #5: Replaces ASCII tables with Markdown tables
   - Issue #8: Adds `<width_control>` subsection to prevent table expansion
   - **Resolution:** Issue #8's version is a superset that includes Issue #5's changes PLUS the width control addition. Use Issue #8's complete replacement block.
   - **Note:** The ASCII table in the `<example_display>` (lines 2514-2520) is also replaced by Issue #8's Markdown table example.

2. **Issues #9 and #11** - Both address bullet display formatting
   - Issue #9: Updates `<bullet_display_and_grouping_rules>` and `<critical_formatting_rules>` to remove brackets and color text
   - Issue #11: Updates `<display_format_in_phase_1>` to apply formatting rules with metric indicators and verb categories
   - **Resolution:** These are complementary. Issue #9 removes unwanted formatting, Issue #11 ensures proper rendering. Apply both.

**NO CONFLICTS:** Issues #6, #7, #10, and #12 modify different sections and can be applied independently.

**CLARIFICATION ON VERB DIVERSITY VISUALIZATION:**
- Issue #7 specifies bar graph format using Unicode block characters (‚ñà ‚ñë) for the Action Verb Diversity table in the Executive Summary
- No pie chart exists in current instructions - the bar graph format in Issue #7 is the authoritative visualization
- This bar graph format should be preserved as specified in Issue #7

---

## Issue #5: Replace ASCII Table with Markdown Table

**File:** `PROJECT-INSTRUCTIONS.md`  
**Section:** `<per_bullet_audit_rules>` (lines ~1075-1145)  
**Action:** Replace entire section

> **NOTE:** This issue is superseded by Issue #8 which includes these changes plus additional width control. See Issue #8 for the complete replacement block.

---

## Issue #6: Metadata Flow Enforcement Guardrail

**File:** `PROJECT-INSTRUCTIONS.md`  
**Section:** `<hiring_manager_perspective_rules>` (around line 1445, just before `<critical_behaviors>`)  
**Action:** Insert new guardrail block

### Code to Insert:

```xml
<output_flow_enforcement_guardrail>
  <priority>CRITICAL</priority>
  <instruction>
    The Job History Summary (Metadata Block) for Position N MUST be displayed IMMEDIATELY after the Hiring Manager Rationale for Position N.
  </instruction>
  
  <forbidden_behavior>
    - NEVER batch, group, or consolidate Job History Summaries at the end of the report.
    - NEVER separate the summary from its corresponding position analysis.
  </forbidden_behavior>
  
  <required_sequence_per_position>
    1. Position N Header & Inferred Title
    2. Position N Bullet Audit (Table & Recommendations)
    3. Position N Rationale ("Why I think this was your role...")
    4. Position N Job History Summary (The full v2.0 metadata block)
    5. [Visual Separator]
    6. Proceed to Position N+1...
  </required_sequence_per_position>
</output_flow_enforcement_guardrail>
```

---

## Issue #7: Executive Summary Header Display

**File:** `PROJECT-INSTRUCTIONS.md`  
**Section:** `<prioritized_repairs_summary_rules>`, specifically the `<executive_summary_integration>` subsection  
**Action:** Replace output format with Markdown table structure

### Implementation Instructions:

#### 1. Locate Target Section
Find `<prioritized_repairs_summary_rules>` in the project instructions, specifically the `<executive_summary_integration>` subsection.

#### 2. Replace Output Format
Replace the current ASCII box format with this Markdown table structure:

```markdown

## üìä EXECUTIVE SUMMARY: RESUME AUDIT

| **Category** | **Score** | **Status** | **Details** |
|--------------|-----------|------------|-------------|
| **Overall Grade** | **C+ (68/100)** | ‚ö†Ô∏è Needs Improvement | Career Profile: Mid-Career (8 yrs) |
| **Word Count** | 425 / 500 | ‚úÖ Target Met | Target: 350-500 words |
| **Bullet Count** | 12 / 15-25 | ‚ö†Ô∏è Below Target | Need 3-13 more bullets |

### Scoring Breakdown

| **Assessment Area** | **Score** | **Status** | **Key Findings** |
|---------------------|-----------|------------|------------------|
| **1. ATS Format**<br>*(Machine Readability)* | 24/40 | ‚ö†Ô∏è Warning | ‚Ä¢ Section Presence: ‚úì All present<br>‚Ä¢ Section Order: ‚úì Standard order<br>‚Ä¢ Bullet Count: ‚ö†Ô∏è 12 (target: 15-25)<br>‚Ä¢ Word Count: ‚ö†Ô∏è 425 (target: 450+) |
| **2. Content Quality**<br>*(Professionalism)* | 14/20 | ‚ö†Ô∏è Warning | ‚Ä¢ Character Length: 75% in range<br>‚Ä¢ Date Format: ‚úì Consistent<br>‚Ä¢ Formatting: ‚ö†Ô∏è 2 inconsistencies |
| **3. Quantifiable Impact**<br>*(Data & Metrics)* | 18/20 | ‚úÖ Good | ‚Ä¢ Density: 67% (Target: >30%)<br>‚Ä¢ Impact Statements: 8 of 12 bullets |
| **4. Skills & Keywords**<br>*(Hard vs. Soft)* | 12/20 | ‚ö†Ô∏è Warning | ‚Ä¢ Hard Skills: 18 found<br>‚Ä¢ Soft Skills: 3 found (Target: 5-8)<br>‚Ä¢ Distribution: Across 3 positions |

### Action Verb Diversity: 4/5 Categories

**Status:** Moderate (Missing: Collaborate) | **Target:** Balanced distribution across all 5 categories

| **Category** | **Distribution** | **Count** |
|--------------|------------------|-----------|
| üîµ **Built** | ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 33% | 4 bullets |
| üü° **Lead** | ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 17% | 2 bullets |
| üü£ **Managed** | ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 25% | 3 bullets |
| ü©∑ **Collaborate** | ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 8% | 1 bullet |
| üü¢ **Improved** | ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 17% | 2 bullets |

> **Note:** These scores are determined by a finite, pre-established set of action verbs, with some additional analysis by the Large Language Model (LLM). A false positive may occur if one or more action verbs used are not included in the defined list or not recognized by the LLM.

---

## üîß PRIORITIZED REPAIRS

**Total Issues:** 10 (0 blockers, 4 risks, 6 tweaks)

| **Severity** | **Count** | **Impact** |
|--------------|-----------|------------|
| ‚õî **BLOCKER** | 0 | Dealbreakers - Auto-reject risk |
| ‚ö†Ô∏è **RISK** | 4 | Significant Impact - Lowers score |
| üîß **TWEAK** | 6 | Refinement - Professional polish |

### üìã THE VERDICT

> **Your resume is ATS COMPATIBLE, but needs CONTENT improvements for impact.**

```

#### 3. Update Rules Documentation
Add these formatting rules to `<executive_summary_integration>`:

```xml
<markdown_table_format>
  <priority>CRITICAL</priority>
  <applies_to>Phase 1 Executive Summary output</applies_to>
  
  <formatting_rules>
    <rule id="use_markdown_tables">Use Markdown table syntax for all structured data</rule>
    <rule id="use_bold_for_headers">Bold (**text**) for category names and important labels</rule>
    <rule id="use_emojis">Use emojis for visual emphasis (‚úÖ ‚ö†Ô∏è ‚õî üîß üìä üìã)</rule>
    <rule id="use_blockquotes">Use blockquote (>) for THE VERDICT statement</rule>
    <rule id="progress_bars">Use Unicode block characters for progress bars (‚ñà ‚ñë)</rule>
    <rule id="line_breaks">Use `<br>` for multi-line content in table cells</rule>
  </formatting_rules>
  
  <structure>
    <section order="1">Top-level summary table (Overall Grade, Word Count, Bullet Count)</section>
    <section order="2">Scoring Breakdown table (4 assessment areas)</section>
    <section order="3">Action Verb Diversity table with visual bars</section>
    <section order="4">Prioritized Repairs summary table</section>
    <section order="5">THE VERDICT blockquote</section>
  </structure>
  
  <no_ascii_art>
    Do NOT use ASCII box drawing characters (‚ïî ‚ïê ‚ïë ‚ïö ‚ïù ‚ï† ‚ï£ ‚ïß ‚ï™)
    Do NOT use text color annotations like (text-cyan) (text-yellow) (text-red) (text-green) (text-blue) (text-purple) (text-pink)
  </no_ascii_art>
</markdown_table_format>
```

#### 4. Preserve All Data Elements
Ensure the new format includes all information from the original:

- Overall grade and score
- Career profile (years of experience)
- Word count (actual vs target)
- Bullet count (actual vs target)
- All 4 scoring categories with scores and findings
- Action verb distribution with percentages and counts
- Repair counts (blocker, risk, tweak)
- The Verdict statement
- Repair legend

#### 5. Testing Checklist
After implementation, verify:

- [ ] All numerical data matches original format
- [ ] No information loss
- [ ] Tables render correctly in Markdown viewers
- [ ] Emojis display properly
- [ ] Progress bars use consistent character set
- [ ] Blockquote formats correctly
- [ ] Line breaks in table cells work as expected

#### 6. Backward Compatibility

- Keep the original `<executive_summary_integration>` structure
- Add new `<markdown_table_format>` subsection
- Mark old ASCII format as deprecated but don't delete (for reference)

---

## Issue #8: Analysis Table Width Control

**File:** `PROJECT-INSTRUCTIONS.md`  
**Section:** `<per_bullet_audit_rules>` (entire section replacement)  
**Action:** Replace entire section with updated version including width control

> **NOTE:** This replacement supersedes Issue #5 and includes all Markdown table changes plus width control.

### Complete Replacement Block:

```xml
<per_bullet_audit_rules>
  <priority>CRITICAL</priority>
  <applies_to>Phase 1 Resume Analysis Report</applies_to>

  <purpose>
    Display a detailed analysis table beneath every bullet point in the resume, 
    providing granular, line-by-line feedback.
  </purpose>

  <rendering_requirement>
    <priority>CRITICAL</priority>
    <instruction>
      ALWAYS use standard Markdown Table syntax for the audit display.
      NEVER use ASCII art or code blocks.
    </instruction>
  </rendering_requirement>

  <width_control>
    <priority>HIGH</priority>
    <instruction>
      To prevent the table from becoming too wide (not wrapping):
      1. Keep "Analysis" text concise.
      2. Use the HTML break tag <br> to manually force a new line between distinct thoughts (e.g., between the Finding and the Recommendation).
      3. Insert <br> if a single sentence exceeds ~50 characters.
    </instruction>
  </width_control>

  <integration_rule>
    The audit table must appear directly after the original bullet point.
    Do not repeat the bullet text inside the table.
  </integration_rule>

  <analysis_table_structure>
    <columns>
      Column 1: Check (Metric, Verb, Length)
      Column 2: Status (‚úÖ Passed, ‚ùå Failed, ‚ö†Ô∏è Weak)
      Column 3: Analysis (Specific findings and fixes)
    </columns>
    
    <row id="1" name="Metrics">
      <check>Metrics</check>
      <logic>
        - ‚úÖ Passed: If metrics are detected.
        - ‚ùå Failed: If no metrics are detected.
      </logic>
      <output>
        - On Passed: List metrics found <br> (e.g., "65% reduction").
        - On Failed: "Lacks quantifiable impact. <br> Add: # of users, efficiency %..."
      </output>
    </row>
    
    <row id="2" name="Action Verb">
      <check>Verb</check>
      <logic>
        - ‚úÖ Passed: Strong verb found.
        - ‚ö†Ô∏è Weak: Passive verb found.
        - ‚ö†Ô∏è Redundant: Verb category repeated.
      </logic>
      <output>
        - On Passed: Show category + verb (e.g., "üîµ Built: Architected").
        - On Weak/Redundant: Suggest stronger alternatives <br> (e.g., "Try: Engineered or Developed").
      </output>
    </row>
    
    <row id="3" name="Char Count">
      <check>Length</check>
      <logic>
        - ‚úÖ Passed: 100-210 characters.
        - ‚ùå Failed: <100 or >210 characters.
      </logic>
      <output>
        - Show count (e.g., "74/210 chars").
        - If failed, add break: <br> (e.g., "26 chars below minimum").
      </output>
    </row>
  </analysis_table_structure>

  <per_bullet_recommendations>
    <description>
      If any check fails, add a recommendation block below the table.
    </description>
    <format>
      Use a blockquote (>) to distinctively set off recommendations.
      Prefix with [‚ö†Ô∏è RISK] or [üîß TWEAK].
    </format>
  </per_bullet_recommendations>

  <example_display>
    ‚úì [Built] Created technical documentation and training materials.

    | Check | Status | Analysis |
    | :--- | :--- | :--- |
    | **Metrics** | ‚ùå **Failed** | **Lacks quantifiable impact.** <br> Add: # of documents, team members trained... |
    | **Verb** | ‚úÖ **Passed** | **üîµ Built: Created** |
    | **Length** | ‚ùå **Failed** | **74/210 chars** <br> (26 chars below minimum) |

    > **‚ö†Ô∏è RECOMMENDATIONS**
    > * [‚ö†Ô∏è RISK] Missing metrics - add quantified achievements
    > * [‚ö†Ô∏è RISK] Bullet too short - expand with impact context
  </example_display>
</per_bullet_audit_rules>
```

---

## Issue #9: Action Verb Display Formatting

**File:** `PROJECT-INSTRUCTIONS.md`  
**Sections:** Two sections need updates  
**Action:** Replace both sections to remove brackets and color text

### 1. Update `<bullet_display_and_grouping_rules>`

Replace the existing `<bullet_display_and_grouping_rules>` section with this version:

```xml
<bullet_display_and_grouping_rules>
  <priority>CRITICAL</priority>
  <applies_to>Phase 1, Phase 2, Phase 3 - All bullet displays</applies_to>
  
  <purpose>
    Define standard format for displaying bullets.
    Ensures consistency: clean text + metrics detection.
  </purpose>

  <grouping_logic>
    <order>Reverse chronological (most recent job first)</order>
    <grouping_unit>By job title + company</grouping_unit>
    
    <position_header_format>
      [Job Title] at [Company] | [Start Date] - [End Date]
      Duration: [X years/months]
    </position_header_format>
  </grouping_logic>
  
  <bullet_display_within_position>
    <instruction>
      Display each bullet cleanly. 
      - Do NOT put brackets [ ] around the verb.
      - Do NOT put the color name (Green) in text.
      - Do NOT try to force font colors if the environment does not support it.
    </instruction>

    <format>
      [METRIC_INDICATOR] [Verb] [remainder of bullet text]
    </format>

    <key>
      - METRIC_INDICATOR: ‚úì (if metrics present) or - (if no metrics)
      - [Verb]: The action verb (Capitalized, no brackets)
    </key>

    <example>
      ‚úì Built a real-time analytics dashboard using React
      - Managed daily standups for the engineering team
    </example>
  </bullet_display_within_position>
  
  <position_summary>
    After all bullets for a position, display:
    - Total bullets: X | With metrics: X (XX%)
    - Verb distribution: Built (X), Lead (X), Managed (X), Improved (X), Collaborate (X)
  </position_summary>

  <reverse_chronological_verification>
    GUARDRAIL: Sort positions by end_date DESCENDING (most recent first).
  </reverse_chronological_verification>
</bullet_display_and_grouping_rules>
```

### 2. Update `<critical_formatting_rules>`

Replace your `<critical_formatting_rules>` section with this cleaner version:

```xml
<critical_formatting_rules>
  <rule id="no_em_dashes" priority="critical">
    NEVER use em-dashes (‚Äî) anywhere in the output. Use hyphens (-) or rephrase sentences instead.
  </rule>
  
 <rule id="enhanced_verb_display" priority="critical">
      Display the action verb category in brackets BEFORE the bullet text.
      Format: [Category] Verb reminder
      Example: [Built] Built system...
    </rule>

  <acronym_expansion_guardrail> 
    <priority>MODERATE</priority>
    <instruction>
      Industry-standard acronyms (AWS, SQL, API) can be used as-is.
      Domain-specific or ambiguous acronyms must be spelled out on first use.
    </instruction>
    
    <standard_acronyms_allowed>
      AWS, SQL, API, REST, JSON, XML, HTML, CSS, CI/CD, DevOps, SaaS, PaaS,
      ATS, KPI, ROI, SLA, ETL, GDPR, HIPAA, SOC, NIST
    </standard_acronyms_allowed>
    
    <expansion_required>
      FOR acronyms NOT in standard list:
        - First mention: "Federal Information Security Management Act (FISMA)"
        - Subsequent: "FISMA"
        
      EXCEPTION: If acronym appears in JD without expansion, match JD format
    </expansion_required>
  </acronym_expansion_guardrail>
</critical_formatting_rules>
```

---

## Issue #10: Responsibilities vs Achievements Synthesis

**File:** `PROJECT-INSTRUCTIONS.md`  
**Sections:** Two sections need updates  
**Action:** Change from "Extract" to "Synthesize" logic

### 1. Update Phase 1 Generation Logic

Replace the `<job_history_creation>` block inside `<phase id="1">` (around lines 1475-1510):

```xml
<job_history_creation>
    After extracting resume data, generate job history in v2.0 format per phases/phase-1/job-history-v2-creation.md:

    FOR EACH position in resume:
      1. Extract metadata (job_title, company, dates)
      
      2. Synthesize <core_responsibilities>:
         - Do NOT copy resume bullets verbatim.
         - Summarize the standard operational duties for this Inferred Job Title.
         - Write 3-5 high-level bullets describing the *scope* of the role (e.g., "Owned the SDLC," "Managed the budget," "Led the team").
         - Separate the "Job Description" duties from specific "Wins."
      
      3. Filter <key_achievements>:
         - Extract ONLY specific wins, projects, and metrics from the resume text.
         - If a resume bullet is just a duty (e.g., "Wrote reports"), put it in Responsibilities, NOT Achievements.
         - If a bullet has a result (e.g., "Reduced time by 50%"), put it here.
      
      4. Categorize skills using phases/phase-1/jd-parsing-17-point.md classification rules:
         - Run each skill through hard vs soft categorization logic
         - Separate into hard_skills_demonstrated and soft_skills_demonstrated arrays
      5. Extract education (if mentioned in context of this role)
      6. Extract certifications (if mentioned in context of this role)
      7. Extract tools_technologies (granular list of tools used)
      8. Extract impact_metrics (quantified business results)
      9. Extract industry_domain (sector and domain expertise)
      10. Extract team_scope (leadership and team size)
      11. Generate professional_summary for this role:
          - 2-3 sentences summarizing role scope and key achievements
          - Include 2-3 hard skills demonstrated
          - Include 1-2 soft skills demonstrated
          - Use metrics where available

    SAVE to: claude_generated_job_history_summaries_v2.txt
    FORMAT: Plain text with XML-like structure (see schema for details)
  </job_history_creation>
```

### 2. Update the Display Rules

Replace the `<job_history_summary_generation_rules>` block (around lines 1590-1630):

```xml
<job_history_summary_generation_rules>
  <priority>HIGH</priority>
  <applies_to>Phase 1 Resume Analysis - Hiring Manager Perspective section</applies_to>
  
  <purpose>
    Generate comprehensive job history v2.0 schema summaries for each position.
    CRITICAL: Summaries must be SYNTHESIZED from the raw resume data, not copied.
    We are creating the "Ideal Version" of this role, identifying what the user 
    *actually* did versus what the resume *says* they did.
  </purpose>

  <auto_generation_process>
    <step number="1" name="analyze_raw_bullets">
      For each position:
      - Read all raw bullets to understand the scope and impact.
      - Infer the standard "Day-to-Day" duties of this role type.
      - Identify the specific "Wins" or "Projects."
    </step>

    <step number="2" name="synthesize_responsibilities">
      Generate <core_responsibilities>:
      - Write 3-4 NEW bullets that describe the functional scope.
      - Example: "Directed the end-to-end SDLC..." or "Managed stakeholder relationships..."
      - Do NOT simply copy the user's poorly written bullets here.
    </step>

    <step number="3" name="isolate_achievements">
      Generate <key_achievements>:
      - Select the top 3-5 strongest accomplishments from the raw text.
      - If possible, slightly polish them for readability, but keep the original metrics.
      - Ensure these are distinct from the general responsibilities.
    </step>

    <step number="4" name="structure_data">
      Organize extracted data into v2.0 schema:
      - professional_summary (synthesized)
      - core_responsibilities (synthesized/functional)
      - key_achievements (filtered wins)
      - hard_skills_demonstrated (categorized)
      - soft_skills_demonstrated (categorized)
      - tools_technologies (extracted)
      - impact_metrics (quantified results)
      - industry_domain (inferred from context)
      - team_scope (extracted or inferred)
    </step>
  </auto_generation_process>

  <display_format_in_phase_1>
    <priority>CRITICAL</priority>
    <instruction>
      When displaying summaries in the chat window, ALWAYS render them as formatted Markdown.
      NEVER output raw XML tags (like <core_responsibilities>) in the visual report.
    </instruction>

    <rendering_rules>
      1. Convert <professional_summary> tag ‚Üí "### üìù Professional Summary"
      2. Convert <core_responsibilities> tag ‚Üí "### üìã Core Responsibilities"
      3. Convert <key_achievements> tag ‚Üí "### üèÜ Key Achievements"
      4. Convert <hard_skills_demonstrated> tag ‚Üí "### üíª Hard Skills"
      5. Convert <soft_skills_demonstrated> tag ‚Üí "### ü§ù Soft Skills"
      6. Convert <tools_technologies> tag ‚Üí "### üõ† Tools & Technologies"
      7. Convert <impact_metrics> tag ‚Üí "### üìä Impact Metrics"
      8. Convert <team_scope> tag ‚Üí "### üë• Team Scope"
    </rendering_rules>
  </display_format_in_phase_1>
  
  <download_export_formats>
    <format name="xml">
      <file_format>XML (v2.0 Schema)</file_format>
      <use_case>Machine processing, LLM consumption, system imports, version control</use_case>
    </format>

    <format name="markdown">
      <file_format>Markdown (.md)</file_format>
      <use_case>Reading, sharing, presentations, documentation</use_case>
    </format>

    <format name="zip">
      <file_format>ZIP archive</file_format>
      <use_case>Complete backup with both formats</use_case>
    </format>
  </download_export_formats>

  <file_naming_convention>
    <xml_format>
      claude_generated_job_history_v6.5_[YYYYMMDD].xml
    </xml_format>

    <markdown_format>
      claude_generated_job_history_v6.5_[YYYYMMDD].md
    </markdown_format>

    <zip_format>
      claude_generated_job_history_v6.5_[YYYYMMDD]_BOTH.zip
    </zip_format>
  </file_naming_convention>

  <user_guidance>
    <during_analysis>
      "Your job history summaries are being generated automatically as we analyze 
      each position."
    </during_analysis>

    <before_download>
      "We've compiled all positions into comprehensive job history summaries. 
      Download in your preferred format:
      
      üìÑ XML - For LLM processing, system integration, version control
      üìù Markdown - For reading, sharing, presentations
      üì¶ Both (ZIP) - Complete backup"
    </before_download>
  </user_guidance>
</job_history_summary_generation_rules>
```

---

## Issue #11: Display Layer Rendering for Metrics/Verbs

**File:** `PROJECT-INSTRUCTIONS.md`  
**Section:** `<display_format_in_phase_1>` block  
**Action:** Update to apply standard bullet formatting rules

> **NOTE:** This update is already included in Issue #10's replacement of `<job_history_summary_generation_rules>`. However, if Issue #10's `<display_format_in_phase_1>` subsection needs additional enhancement, use the code below.

### Enhanced `<display_format_in_phase_1>` Block:

```xml
<display_format_in_phase_1>
    <priority>CRITICAL</priority>
    <instruction>
      When displaying summaries in the chat window, ALWAYS render them as formatted Markdown.
      NEVER output raw XML tags (like <core_responsibilities>) in the visual report.
    </instruction>

    <rendering_rules>
      <structure>
        1. Convert <professional_summary> tag ‚Üí "### üìù Professional Summary"
        2. Convert <core_responsibilities> tag ‚Üí "### üìã Core Responsibilities"
        3. Convert <key_achievements> tag ‚Üí "### üèÜ Key Achievements"
        4. Convert <hard_skills_demonstrated> tag ‚Üí "### üíª Hard Skills"
        5. Convert <soft_skills_demonstrated> tag ‚Üí "### ü§ù Soft Skills"
        6. Convert <tools_technologies> tag ‚Üí "### üõ† Tools & Technologies"
        7. Convert <impact_metrics> tag ‚Üí "### üìä Impact Metrics"
        8. Convert <team_scope> tag ‚Üí "### üë• Team Scope"
      </structure>

      <bullet_formatting>
        For all bullet points within Core Responsibilities and Key Achievements:
        MUST apply standard bullet_display_and_grouping_rules:
        - Prefix with Metric Indicator: ‚úì or -
        - Prefix with Verb Category: [[Category]] (e.g., [[Built]])
        - Example: "‚úì [[Built]] Architected a scalable..."
      </bullet_formatting>
    </rendering_rules>

    <example_output>
      #### üìÑ Job History Summary: Position 1

      **Inferred Title:** Microsoft 365 Administrator
      **Duration:** 10 months

      ### üìù Professional Summary
      Served as the Microsoft 365 Subject Matter Expert...

      ### üìã Core Responsibilities
      * - [[Collaborate]] Capture requirements from the Business Development team...
      * - [[Built]] Create custom SharePoint Online forms...

      ### üèÜ Key Achievements
      * ‚úì [[Built]] Built custom SharePoint Online forms with Power Apps...

      [...continue for all sections...]
    </example_output>
  </display_format_in_phase_1>
```

---

## Issue #12: Header/Contact Validation Section

**File:** `PROJECT-INSTRUCTIONS.md`  
**Sections:** Two updates required  
**Action:** Add new section to report structure and new rules block

### 1. Update `<phase_1_analysis_report_output>` Structure

Insert this new section between Section 1 (Executive Summary) and Section 2 (Hiring Manager Perspective):

```xml
<phase_1_analysis_report_output>
  <report_structure>
    <section id="1" name="Executive Summary">
      <sub_section name="Verdict and Repairs">
        <reference>Implement per prioritized_repairs_summary_rules</reference>
        - Display "Prioritized Repairs" counts (Blocker, Risk, Tweak).
        - Display "The Verdict" summary sentence.
        - Display "Repair Legend".
      </sub_section>
    </section>

    <!-- NEW SECTION INSERTED HERE -->
    <section id="1.5" name="Header / Contact Info Validation">
      <reference>Implement per header_contact_validation_rules</reference>
      <display_format>
        ## üë§ HEADER / CONTACT INFO

        **[FULL NAME]**  
        [Location] | [Phone] | [Email]  
        [LinkedIn URL] | [GitHub URL] | [Portfolio URL if present]

        ### Header Validation Results

        | **Element** | **Status** | **Details** |
        |-------------|------------|-------------|
        | Name | [‚úì/‚ö†Ô∏è/‚ùå] | [Status message] |
        | Email | [‚úì/‚ö†Ô∏è/‚ùå] | [Validation result] |
        | Phone | [‚úì/‚ö†Ô∏è/‚ùå] | [Format check result] |
        | Location | [‚úì/‚ö†Ô∏è/‚ùå] | [Presence check] |
        | LinkedIn | [‚úì/‚ö†Ô∏è/‚ùå] | [URL validation] |
        | GitHub | [‚úì/‚ö†Ô∏è/‚ùå] | [Optional - if present] |
        | Portfolio | [‚úì/‚ö†Ô∏è/‚ùå] | [Optional - if present] |

        ### ‚ö†Ô∏è RECOMMENDATIONS ([N] items)

        **[SEVERITY]** [Recommendation text]
      </display_format>
    </section>

    <section id="2" name="Hiring Manager Perspective">
      <reference>Implement per hiring_manager_perspective_rules</reference>
      - Display inferred title, confidence, and reasoning for each position.
      - Display auto-generated job history summary (v2.0) for each position (per job_history_summary_generation_rules).
      - Format: <position_structure><position id="N">...content...</position></position_structure>
    </section>

    <!-- ... rest of sections ... -->
  </report_structure>
</phase_1_analysis_report_output>
```

### 2. Add New `<header_contact_validation_rules>` Section

Add this new section immediately after `<markdown_table_format>` in the `<prioritized_repairs_summary_rules>`:

```xml
<header_contact_validation_rules>
  <priority>HIGH</priority>
  <applies_to>Phase 1 Resume Analysis - Header validation section</applies_to>
  
  <purpose>
    Validate resume header/contact information for ATS compatibility and completeness.
    Display validation results in clean Markdown table format.
  </purpose>

  <validation_checks>
    <check id="name">
      <requirement>Full name must be present</requirement>
      <pass_criteria>At least first and last name detected</pass_criteria>
      <status_pass>‚úì Found</status_pass>
      <status_fail>‚ùå Missing or incomplete</status_fail>
    </check>

    <check id="email">
      <requirement>Valid email format</requirement>
      <pass_criteria>Contains @ symbol and domain with .</pass_criteria>
      <status_pass>‚úì Valid format</status_pass>
      <status_fail>‚ùå Invalid format or missing</status_fail>
      <details_pass>@ and . found</details_pass>
    </check>

    <check id="phone">
      <requirement>Valid phone format</requirement>
      <pass_criteria>10 digits in any format (with or without separators)</pass_criteria>
      <status_pass>‚úì Valid format</status_pass>
      <status_fail>‚ùå Invalid format or missing</status_fail>
      <details_pass>10 digits</details_pass>
    </check>

    <check id="location">
      <requirement>City and state/country present</requirement>
      <pass_criteria>At least city and state/country detected</pass_criteria>
      <status_pass>‚úì Found</status_pass>
      <status_fail>‚ùå Missing or incomplete</status_fail>
    </check>

    <check id="linkedin">
      <requirement>LinkedIn profile URL</requirement>
      <pass_criteria>Valid linkedin.com URL format</pass_criteria>
      <status_pass>‚úì Valid URL</status_pass>
      <status_fail>‚ö†Ô∏è Missing (recommended)</status_fail>
      <severity_if_missing>TWEAK</severity_if_missing>
    </check>

    <check id="github">
      <requirement>GitHub profile URL (optional for technical roles)</requirement>
      <pass_criteria>Valid github.com URL format</pass_criteria>
      <status_pass>‚úì Found</status_pass>
      <status_fail>‚ö†Ô∏è Not present (optional)</status_fail>
      <severity_if_missing>TWEAK</severity_if_missing>
      <recommendation>Add GitHub profile if applying for technical roles</recommendation>
    </check>

    <check id="portfolio">
      <requirement>Portfolio/personal website URL (optional)</requirement>
      <pass_criteria>Valid URL format distinct from LinkedIn/GitHub</pass_criteria>
      <status_pass>‚úì Found</status_pass>
      <status_fail>‚ö†Ô∏è Not present (optional)</status_fail>
      <severity_if_missing>TWEAK</severity_if_missing>
      <recommendation>Add distinct portfolio URL if applicable</recommendation>
    </check>
  </validation_checks>

  <markdown_output_format>
    <header_display>
      Display actual header information as formatted text (name in bold, contact info on separate lines)
    </header_display>

    <validation_table>
      Three-column table: Element | Status | Details
      - Element: Name of contact field
      - Status: ‚úì (pass) or ‚ö†Ô∏è (warning) or ‚ùå (fail)
      - Details: Validation result message
    </validation_table>

    <recommendations_section>
      Only display if there are recommendations
      Format: **[SEVERITY]** [Recommendation text]
      Severity levels: [‚õî BLOCKER] [‚ö†Ô∏è RISK] [üîß TWEAK]
    </recommendations_section>
  </markdown_output_format>

  <severity_assignment>
    <rule priority="critical">
      Missing name, email, phone, or location ‚Üí ‚õî BLOCKER
      These are required for ATS systems
    </rule>

    <rule priority="high">
      Invalid format for email or phone ‚Üí ‚ö†Ô∏è RISK
      May cause ATS parsing failures
    </rule>

    <rule priority="moderate">
      Missing LinkedIn, GitHub, or Portfolio ‚Üí üîß TWEAK
      Recommended but not required
    </rule>
  </severity_assignment>

  <integration_with_executive_summary>
    Header validation issues should be counted in the Executive Summary repair totals:
    - Add BLOCKER count if name/email/phone/location missing
    - Add RISK count if email/phone format invalid
    - Add TWEAK count for missing optional fields (LinkedIn, GitHub, Portfolio)
  </integration_with_executive_summary>
</header_contact_validation_rules>
```

---

## Files Impacted

### Primary Files
1. **PROJECT-INSTRUCTIONS.md** - All 8 issues require updates to this file
2. **quick-start-phase.md** - May need corresponding updates (TBD after reviewing PROJECT-INSTRUCTIONS.md changes)

### Supporting Files (Potential)
- `phases/phase-1/job-history-v2-creation.md` - May need alignment with Issue #10 synthesis logic
- Any other phase files that reference the updated sections

---

## Implementation Order

1. **Issue #8** (includes #5) - Per-bullet audit rules with Markdown tables and width control
2. **Issue #9** - Bullet display and critical formatting rules (remove brackets/colors)
3. **Issue #6** - Output flow enforcement guardrail
4. **Issue #7** - Executive Summary header display with Markdown tables
5. **Issue #10** - Responsibilities vs Achievements synthesis logic
6. **Issue #11** - Display layer rendering (verify if additional changes needed beyond #10)
7. **Issue #12** - Header/Contact validation section

---

## Verification Steps

After implementing all changes:

1. [ ] Verify all XML blocks are properly closed
2. [ ] Check for duplicate section names or IDs
3. [ ] Ensure no conflicts between updated sections
4. [ ] Validate that `quick-start-phase.md` references are still accurate
5. [ ] Test with sample resume to verify all display changes render correctly
6. [ ] Confirm Executive Summary displays with new Markdown table format
7. [ ] Verify per-bullet audit tables use Markdown and include width control
8. [ ] Check that action verbs display without brackets or color text
9. [ ] Validate that Job History Summaries appear immediately after each position
10. [ ] Confirm Header/Contact validation section appears after Executive Summary
11. [ ] Verify responsibilities are synthesized, not extracted verbatim
12. [ ] Check that display layer applies metric indicators and verb categories

---

## Notes

- All code blocks are taken directly from GitHub issues without modification
- Issue #8 supersedes Issue #5 (both modify same section, #8 is more complete)
- Issues #9 and #11 are complementary (work together)
- Issue #10 includes the display layer updates from Issue #11
- All changes maintain backward compatibility where possible
- Deprecated formats are marked but not deleted for reference

---

## Success Criteria

- [ ] All 8 issues (#5-12) implemented exactly as specified
- [ ] No code conflicts or duplicate implementations
- [ ] All XML blocks properly formatted and closed
- [ ] `PROJECT-INSTRUCTIONS.md` updated with all changes
- [ ] `quick-start-phase.md` updated if needed
- [ ] Plan reviewed and approved by user
- [ ] Ready for implementation phase
