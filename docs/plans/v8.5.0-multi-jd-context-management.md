# Implementation Plan - v8.5.0: Multi-JD Context Management

Establish a formal system for managing multiple Job Descriptions (JDs) within a single optimization session. This includes archiving JD history, supporting comparative scoring across multiple targets, and implementing context-switching commands.

## User Review Required

> [!IMPORTANT]
> This change introduces a new directory structure for JD storage: `job-data/jds/`. Each JD will be stored as a unique XML file to prevent overwriting.

## Proposed Changes

### [JD Management Module]

#### [NEW] [jd-context-manager.md](../../optimization-tools/job-fit-analyzer/jd-context-manager.md)
- Define logic for `gh_issue_detect_jd` (automatic detection of multi-JD scenarios).
- Implement `<jd_history_archiving_rules>`: Store JDs as `jd_v1.txt`, `jd_v2.txt`, etc.
- Implement `<context_switching_commands>`: Allow user to say "Switch to the [Company] JD".
- Implement `multi_jd_comparative_scoring`: Compare one resume against all active JDs in a single report.

---

### [System Instructions]

#### [MODIFY] [PROJECT-INSTRUCTIONS.md](../../PROJECT-INSTRUCTIONS.md)
- Update Phase 3 (`jd_comparison`) to reference the new JD Context Manager module.
- Add `<multi_jd_guardrail>` to prevent context leakage between disparate job targets.

#### [MODIFY] [Project-GUI-Instructions.md](../../Project-GUI-Instructions.md)
- Add `<modular_reference file="optimization-tools/job-fit-analyzer/jd-context-manager.md" />` to the jd_comparison phase.

---

### [Documentation & Versioning]

#### [MODIFY] [ROADMAP.md](../../ROADMAP.md)
- Update v8.5.0 status to "In Development".

#### [MODIFY] [CHANGELOG.md](../CHANGELOG.md)
- Record the addition of Multi-JD Context Management.

## Verification Plan

### Automated Tests
- Validate that the system can index 3+ unique JD files in the `job-data/jds/` directory.

### Manual Verification
- Perform a "Switch to JD 2" command simulation.
- Generate a "Comparative Fit Report" for two different companies.
